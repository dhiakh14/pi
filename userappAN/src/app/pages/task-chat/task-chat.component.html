<div class="task-chat-container">
    <div class="header-actions">
        <button (click)="goBackToTasks()" class="btn btn-back">
          <i class="fas fa-arrow-left"></i> Back to Tasks
        </button>
      </div>
      
    <div class="chat-header">
      <i class="fas fa-robot chat-icon"></i>
      <h3>Task Assistant</h3>
      <p><i class="fas fa-info-circle"></i> Ask questions about your tasks</p>
    </div>
  
    <form [formGroup]="chatForm" (ngSubmit)="submitQuestion()" class="chat-form">
      <div class="form-group">
        <div class="input-with-icon">
          <i class="fas fa-question-circle input-icon"></i>
          <textarea 
            formControlName="question" 
            class="form-control" 
            placeholder="Type your question about tasks..."
            rows="3">
          </textarea>
        </div>
      </div>
      
      <button 
        type="submit" 
        class="btn btn-primary" 
        [disabled]="chatForm.invalid || isLoading">
        <span *ngIf="!isLoading">
          <i class="fas fa-paper-plane"></i> Ask AI
        </span>
        <span *ngIf="isLoading">
          <i class="fas fa-spinner fa-spin"></i> Processing...
        </span>
      </button>
    </form>
  
    <div *ngIf="errorMessage" class="alert alert-danger">
      <i class="fas fa-exclamation-triangle"></i> {{ errorMessage }}
    </div>
  
    <div *ngIf="chatResponse" class="chat-response">
      <div class="response-header">
        <i class="fas fa-comment-dots response-icon"></i>
        <h4>AI Response:</h4>
      </div>
      <div class="response-content">
        <i class="fas fa-quote-left quote-icon"></i>
        {{ chatResponse }}
        <i class="fas fa-quote-right quote-icon"></i>
      </div>
      <div class="response-actions">
        <button class="action-btn">
          <i class="fas fa-copy"></i> Copy
        </button>
        <button class="action-btn">
          <i class="fas fa-thumbs-up"></i> Helpful
        </button>
      </div>
    </div>
  </div>