{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/servicesAziz/services\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction FactureDetailsComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 5);\n    i0.ɵɵelement(1, \"div\", 6);\n    i0.ɵɵelementStart(2, \"p\");\n    i0.ɵɵtext(3, \"Loading...\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction FactureDetailsComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7)(1, \"p\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r1.error);\n  }\n}\nfunction FactureDetailsComponent_div_5_div_28_input_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"input\", 23);\n    i0.ɵɵlistener(\"ngModelChange\", function FactureDetailsComponent_div_5_div_28_input_6_Template_input_ngModelChange_0_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r9.tempFacture.number = $event);\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r4.tempFacture.number);\n  }\n}\nfunction FactureDetailsComponent_div_5_div_28_input_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"input\", 24);\n    i0.ɵɵlistener(\"ngModelChange\", function FactureDetailsComponent_div_5_div_28_input_9_Template_input_ngModelChange_0_listener($event) {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r11 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r11.tempFacture.montant = $event);\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r5.tempFacture.montant);\n  }\n}\nfunction FactureDetailsComponent_div_5_div_28_select_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"select\", 25);\n    i0.ɵɵlistener(\"ngModelChange\", function FactureDetailsComponent_div_5_div_28_select_12_Template_select_ngModelChange_0_listener($event) {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r13 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r13.tempFacture.etatFacture = $event);\n    });\n    i0.ɵɵelementStart(1, \"option\", 26);\n    i0.ɵɵtext(2, \"ATTENTE\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"option\", 27);\n    i0.ɵɵtext(4, \"PAYE\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"option\", 28);\n    i0.ɵɵtext(6, \"RETARD\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r6.tempFacture.etatFacture);\n  }\n}\nfunction FactureDetailsComponent_div_5_div_28_input_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"input\", 29);\n    i0.ɵɵlistener(\"ngModelChange\", function FactureDetailsComponent_div_5_div_28_input_15_Template_input_ngModelChange_0_listener($event) {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r15 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r15.tempFacture.dateemission = $event);\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r7.tempFacture.dateemission);\n  }\n}\nfunction FactureDetailsComponent_div_5_div_28_input_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r18 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"input\", 30);\n    i0.ɵɵlistener(\"ngModelChange\", function FactureDetailsComponent_div_5_div_28_input_18_Template_input_ngModelChange_0_listener($event) {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r17 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r17.tempFacture.dateecheance = $event);\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r8.tempFacture.dateecheance);\n  }\n}\nfunction FactureDetailsComponent_div_5_div_28_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r20 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"h3\");\n    i0.ɵɵtext(2, \"Update Facture\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"form\", 11);\n    i0.ɵɵlistener(\"ngSubmit\", function FactureDetailsComponent_div_5_div_28_Template_form_ngSubmit_3_listener() {\n      i0.ɵɵrestoreView(_r20);\n      const ctx_r19 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r19.onSubmit());\n    });\n    i0.ɵɵelementStart(4, \"label\", 12);\n    i0.ɵɵtext(5, \"Number:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, FactureDetailsComponent_div_5_div_28_input_6_Template, 1, 1, \"input\", 13);\n    i0.ɵɵelementStart(7, \"label\", 14);\n    i0.ɵɵtext(8, \"Montant:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(9, FactureDetailsComponent_div_5_div_28_input_9_Template, 1, 1, \"input\", 15);\n    i0.ɵɵelementStart(10, \"label\", 16);\n    i0.ɵɵtext(11, \"\\u00C9tat:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(12, FactureDetailsComponent_div_5_div_28_select_12_Template, 7, 1, \"select\", 17);\n    i0.ɵɵelementStart(13, \"label\", 18);\n    i0.ɵɵtext(14, \"Date d'\\u00C9mission:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(15, FactureDetailsComponent_div_5_div_28_input_15_Template, 1, 1, \"input\", 19);\n    i0.ɵɵelementStart(16, \"label\", 20);\n    i0.ɵɵtext(17, \"Date d'\\u00C9ch\\u00E9ance:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(18, FactureDetailsComponent_div_5_div_28_input_18_Template, 1, 1, \"input\", 21);\n    i0.ɵɵelementStart(19, \"button\", 22);\n    i0.ɵɵtext(20, \"Save Changes\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.tempFacture);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.tempFacture);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.tempFacture);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.tempFacture);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.tempFacture);\n  }\n}\nfunction FactureDetailsComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r22 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 8)(1, \"h2\");\n    i0.ɵɵtext(2, \"Facture Details\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\")(4, \"strong\");\n    i0.ɵɵtext(5, \"Number:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\")(8, \"strong\");\n    i0.ɵɵtext(9, \"Montant:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"p\")(13, \"strong\");\n    i0.ɵɵtext(14, \"\\u00C9tat:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"p\")(17, \"strong\");\n    i0.ɵɵtext(18, \"Date d'\\u00C9mission:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(19);\n    i0.ɵɵpipe(20, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"p\")(22, \"strong\");\n    i0.ɵɵtext(23, \"Date d'\\u00C9ch\\u00E9ance:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(24);\n    i0.ɵɵpipe(25, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"button\", 1);\n    i0.ɵɵlistener(\"click\", function FactureDetailsComponent_div_5_Template_button_click_26_listener() {\n      i0.ɵɵrestoreView(_r22);\n      const ctx_r21 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r21.editFacture());\n    });\n    i0.ɵɵtext(27, \"Update Facture\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(28, FactureDetailsComponent_div_5_div_28_Template, 21, 5, \"div\", 9);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.facture.number, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(11, 6, ctx_r2.facture.montant, \"EUR\"), \"\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.facture.etatFacture, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(20, 9, ctx_r2.facture.dateemission, \"shortDate\"), \"\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(25, 12, ctx_r2.facture.dateecheance, \"shortDate\"), \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.isEditing);\n  }\n}\nexport class FactureDetailsComponent {\n  constructor(route, restService, router) {\n    this.route = route;\n    this.restService = restService;\n    this.router = router;\n    this.facture = null;\n    this.loading = true;\n    this.error = null;\n    this.isEditing = false;\n    // Add a temporary facture object for editing\n    this.tempFacture = null;\n  }\n  // Toggle between view and edit mode\n  editFacture() {\n    this.isEditing = !this.isEditing;\n  }\n  ngOnInit() {\n    const idF = this.route.snapshot.paramMap.get('idF'); // Get idF from route\n    if (idF) {\n      this.restService.retrieveById({\n        idF: +idF\n      }).subscribe({\n        next: data => {\n          this.facture = data;\n          // Ensure the dates are in Date format\n          this.facture.dateemission = new Date(this.facture.dateemission).toISOString().split('T')[0];\n          this.facture.dateecheance = new Date(this.facture.dateecheance).toISOString().split('T')[0];\n          this.tempFacture = {\n            ...data\n          }; // Copy data into tempFacture for editing\n          this.loading = false;\n        },\n        error: err => {\n          this.error = 'Failed to load facture details.';\n          this.loading = false;\n          console.error(err);\n        }\n      });\n    } else {\n      this.error = 'Invalid facture ID.';\n      this.loading = false;\n    }\n  }\n  // Submit the update form\n  onSubmit() {\n    if (this.tempFacture && this.facture) {\n      const updatedFacture = {\n        idF: this.facture.idF,\n        number: this.tempFacture.number,\n        montant: this.tempFacture.montant,\n        etatFacture: this.tempFacture.etatFacture,\n        dateemission: this.tempFacture.dateemission,\n        dateecheance: this.tempFacture.dateecheance\n      };\n      this.restService.updateFacture({\n        body: updatedFacture\n      }).subscribe(response => {\n        this.facture = response; // Update facture with the new data\n        alert('Facture updated successfully!');\n        this.isEditing = false; // Hide the form after successful update\n      }, error => {\n        this.error = 'Error updating facture: ' + error;\n        alert(this.error);\n      });\n    }\n  }\n  navigateToFactureList() {\n    this.router.navigate(['/facture']);\n  }\n  static {\n    this.ɵfac = function FactureDetailsComponent_Factory(t) {\n      return new (t || FactureDetailsComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.RestService), i0.ɵɵdirectiveInject(i1.Router));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: FactureDetailsComponent,\n      selectors: [[\"app-facture-details\"]],\n      decls: 6,\n      vars: 3,\n      consts: [[1, \"full-screen-background\"], [1, \"btn-update\", 3, \"click\"], [\"class\", \"loading-spinner\", 4, \"ngIf\"], [\"class\", \"error-message\", 4, \"ngIf\"], [\"class\", \"facture-details\", 4, \"ngIf\"], [1, \"loading-spinner\"], [1, \"spinner\"], [1, \"error-message\"], [1, \"facture-details\"], [\"class\", \"update-form\", 4, \"ngIf\"], [1, \"update-form\"], [3, \"ngSubmit\"], [\"for\", \"number\"], [\"type\", \"text\", \"id\", \"number\", \"name\", \"number\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\", 4, \"ngIf\"], [\"for\", \"montant\"], [\"type\", \"number\", \"id\", \"montant\", \"name\", \"montant\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\", 4, \"ngIf\"], [\"for\", \"etatFacture\"], [\"id\", \"etatFacture\", \"name\", \"etatFacture\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\", 4, \"ngIf\"], [\"for\", \"dateemission\"], [\"type\", \"text\", \"id\", \"dateemission\", \"name\", \"dateemission\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\", 4, \"ngIf\"], [\"for\", \"dateecheance\"], [\"type\", \"text\", \"id\", \"dateecheance\", \"name\", \"dateecheance\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\", 4, \"ngIf\"], [\"type\", \"submit\", 1, \"btn-submit\"], [\"type\", \"text\", \"id\", \"number\", \"name\", \"number\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"number\", \"id\", \"montant\", \"name\", \"montant\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"id\", \"etatFacture\", \"name\", \"etatFacture\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"value\", \"ATTENTE\"], [\"value\", \"PAYE\"], [\"value\", \"RETARD\"], [\"type\", \"text\", \"id\", \"dateemission\", \"name\", \"dateemission\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"id\", \"dateecheance\", \"name\", \"dateecheance\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"]],\n      template: function FactureDetailsComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"button\", 1);\n          i0.ɵɵlistener(\"click\", function FactureDetailsComponent_Template_button_click_1_listener() {\n            return ctx.navigateToFactureList();\n          });\n          i0.ɵɵtext(2, \" (\\u2190) factures\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(3, FactureDetailsComponent_div_3_Template, 4, 0, \"div\", 2);\n          i0.ɵɵtemplate(4, FactureDetailsComponent_div_4_Template, 3, 1, \"div\", 3);\n          i0.ɵɵtemplate(5, FactureDetailsComponent_div_5_Template, 29, 15, \"div\", 4);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", ctx.loading);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.error);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.facture && !ctx.loading);\n        }\n      },\n      dependencies: [i3.NgIf, i4.ɵNgNoValidate, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.DefaultValueAccessor, i4.NumberValueAccessor, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.NgModel, i4.NgForm, i3.CurrencyPipe, i3.DatePipe],\n      styles: [\"\\n\\n.full-screen-background[_ngcontent-%COMP%] {\\n    background: url('aziz.jpg') no-repeat center center/cover fixed;\\n    width: 100%;\\n    min-height: 100vh;\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    position: relative;\\n    color: white; \\n\\n    font-family: 'Arial', sans-serif; \\n\\n    transition: all 0.3s ease; \\n\\n  }\\n  \\n  \\n\\n  .loading-spinner[_ngcontent-%COMP%] {\\n    display: flex;\\n    flex-direction: column;\\n    align-items: center;\\n    justify-content: center;\\n    color: white;\\n    font-size: 1.5rem;\\n    text-align: center;\\n    transition: opacity 0.3s ease-in-out;\\n  }\\n  \\n  .spinner[_ngcontent-%COMP%] {\\n    border: 4px solid transparent;\\n    border-top: 4px solid #fff;\\n    border-radius: 50%;\\n    width: 60px;\\n    height: 60px;\\n    animation: _ngcontent-%COMP%_spin 1.5s linear infinite;\\n    margin-bottom: 20px;\\n  }\\n  \\n  @keyframes _ngcontent-%COMP%_spin {\\n    0% { transform: rotate(0deg); }\\n    100% { transform: rotate(360deg); }\\n  }\\n\\n  .btn-update[_ngcontent-%COMP%] {\\n    background-color: #4CAF50;  \\n\\n    color: white;\\n    padding: 10px 20px;\\n    font-size: 16px;\\n    border: none;\\n    border-radius: 5px;\\n    cursor: pointer;\\n    margin-top: 20px;\\n  }\\n  \\n  .btn-update[_ngcontent-%COMP%]:hover {\\n    background-color: #45a049;\\n  }\\n  \\n  \\n  \\n\\n  .error-message[_ngcontent-%COMP%] {\\n    display: flex;\\n    flex-direction: column;\\n    align-items: center;\\n    justify-content: center;\\n    color: #fff;\\n    font-size: 1.5rem;\\n    text-align: center;\\n    padding: 25px 40px;\\n    background-color: rgba(255, 0, 0, 0.8);\\n    border-radius: 10px;\\n    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);\\n    max-width: 80%;\\n    width: 350px;\\n    transition: transform 0.3s ease, opacity 0.3s ease;\\n  }\\n  \\n  .error-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n    margin: 0;\\n    line-height: 1.5;\\n  }\\n  \\n  \\n\\n  .facture-details[_ngcontent-%COMP%] {\\n    background-color: rgba(0, 0, 0, 0.7);\\n    padding: 30px 40px;\\n    border-radius: 12px;\\n    text-align: left;\\n    width: 90%;\\n    max-width: 700px;\\n    color: #f0f0f0;\\n    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.5);\\n    transition: transform 0.3s ease, opacity 0.3s ease;\\n  }\\n  \\n  .facture-details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\n    font-size: 2.5rem;\\n    margin-bottom: 20px;\\n    font-weight: 600;\\n    text-transform: uppercase;\\n    letter-spacing: 1px;\\n  }\\n  \\n  .facture-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n    font-size: 1.2rem;\\n    margin-bottom: 15px;\\n    line-height: 1.6;\\n  }\\n  \\n  .facture-details[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%] {\\n    font-weight: 600;\\n    color: #f9c74f; \\n\\n  }\\n\\n  .btn-update[_ngcontent-%COMP%] {\\n    background-color: #2a2eab;  \\n\\n    color: white;\\n    padding: 10px 20px;\\n    font-size: 15px;\\n    border: none;\\n    border-radius: 5px;\\n    cursor: pointer;\\n    margin-top: 20px;\\n  }\\n  \\n  .btn-update[_ngcontent-%COMP%]:hover {\\n    background-color: #1e58a9;\\n  }\\n  \\n  .update-form[_ngcontent-%COMP%] {\\n    margin-top: 20px;\\n  }\\n  \\n  .update-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\\n    display: block;\\n    margin-top: 10px;\\n  }\\n  \\n  .update-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .update-form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%] {\\n    width: 100%;\\n    padding: 10px;\\n    margin: 5px 0;\\n    font-size: 16px;\\n    border: 1px solid #ccc;\\n    border-radius: 5px;\\n  }\\n  \\n  .btn-submit[_ngcontent-%COMP%] {\\n    background-color: #008CBA; \\n\\n    color: white;\\n    padding: 10px 20px;\\n    font-size: 16px;\\n    border: none;\\n    border-radius: 5px;\\n    cursor: pointer;\\n    margin-top: 20px;\\n  }\\n  \\n  .btn-submit[_ngcontent-%COMP%]:hover {\\n    background-color: #007b8c;\\n  }\\n  \\n  \\n  \\n\\n  @media (max-width: 768px) {\\n    .facture-details[_ngcontent-%COMP%] {\\n      padding: 20px;\\n      width: 95%;\\n    }\\n  \\n    .loading-spinner[_ngcontent-%COMP%] {\\n      font-size: 1.2rem;\\n    }\\n  \\n    .error-message[_ngcontent-%COMP%] {\\n      width: 100%;\\n      padding: 20px;\\n    }\\n  \\n    .spinner[_ngcontent-%COMP%] {\\n      width: 50px;\\n      height: 50px;\\n    }\\n    \\n  }\\n  \\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvYXppejEvZmFjdHVyZS1kZXRhaWxzL2ZhY3R1cmUtZGV0YWlscy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLDJCQUEyQjtBQUMzQjtJQUNJLCtEQUFpRjtJQUNqRixXQUFXO0lBQ1gsaUJBQWlCO0lBQ2pCLGFBQWE7SUFDYixtQkFBbUI7SUFDbkIsdUJBQXVCO0lBQ3ZCLGtCQUFrQjtJQUNsQixZQUFZLEVBQUUsOENBQThDO0lBQzVELGdDQUFnQyxFQUFFLHNCQUFzQjtJQUN4RCx5QkFBeUIsRUFBRSxrQ0FBa0M7RUFDL0Q7O0VBRUEsOEJBQThCO0VBQzlCO0lBQ0UsYUFBYTtJQUNiLHNCQUFzQjtJQUN0QixtQkFBbUI7SUFDbkIsdUJBQXVCO0lBQ3ZCLFlBQVk7SUFDWixpQkFBaUI7SUFDakIsa0JBQWtCO0lBQ2xCLG9DQUFvQztFQUN0Qzs7RUFFQTtJQUNFLDZCQUE2QjtJQUM3QiwwQkFBMEI7SUFDMUIsa0JBQWtCO0lBQ2xCLFdBQVc7SUFDWCxZQUFZO0lBQ1osb0NBQW9DO0lBQ3BDLG1CQUFtQjtFQUNyQjs7RUFFQTtJQUNFLEtBQUssdUJBQXVCLEVBQUU7SUFDOUIsT0FBTyx5QkFBeUIsRUFBRTtFQUNwQzs7RUFFQTtJQUNFLHlCQUF5QixHQUFHLFVBQVU7SUFDdEMsWUFBWTtJQUNaLGtCQUFrQjtJQUNsQixlQUFlO0lBQ2YsWUFBWTtJQUNaLGtCQUFrQjtJQUNsQixlQUFlO0lBQ2YsZ0JBQWdCO0VBQ2xCOztFQUVBO0lBQ0UseUJBQXlCO0VBQzNCOzs7RUFHQSwwQkFBMEI7RUFDMUI7SUFDRSxhQUFhO0lBQ2Isc0JBQXNCO0lBQ3RCLG1CQUFtQjtJQUNuQix1QkFBdUI7SUFDdkIsV0FBVztJQUNYLGlCQUFpQjtJQUNqQixrQkFBa0I7SUFDbEIsa0JBQWtCO0lBQ2xCLHNDQUFzQztJQUN0QyxtQkFBbUI7SUFDbkIseUNBQXlDO0lBQ3pDLGNBQWM7SUFDZCxZQUFZO0lBQ1osa0RBQWtEO0VBQ3BEOztFQUVBO0lBQ0UsU0FBUztJQUNULGdCQUFnQjtFQUNsQjs7RUFFQSw4QkFBOEI7RUFDOUI7SUFDRSxvQ0FBb0M7SUFDcEMsa0JBQWtCO0lBQ2xCLG1CQUFtQjtJQUNuQixnQkFBZ0I7SUFDaEIsVUFBVTtJQUNWLGdCQUFnQjtJQUNoQixjQUFjO0lBQ2QseUNBQXlDO0lBQ3pDLGtEQUFrRDtFQUNwRDs7RUFFQTtJQUNFLGlCQUFpQjtJQUNqQixtQkFBbUI7SUFDbkIsZ0JBQWdCO0lBQ2hCLHlCQUF5QjtJQUN6QixtQkFBbUI7RUFDckI7O0VBRUE7SUFDRSxpQkFBaUI7SUFDakIsbUJBQW1CO0lBQ25CLGdCQUFnQjtFQUNsQjs7RUFFQTtJQUNFLGdCQUFnQjtJQUNoQixjQUFjLEVBQUUsb0NBQW9DO0VBQ3REOztFQUVBO0lBQ0UseUJBQXlCLEdBQUcsVUFBVTtJQUN0QyxZQUFZO0lBQ1osa0JBQWtCO0lBQ2xCLGVBQWU7SUFDZixZQUFZO0lBQ1osa0JBQWtCO0lBQ2xCLGVBQWU7SUFDZixnQkFBZ0I7RUFDbEI7O0VBRUE7SUFDRSx5QkFBeUI7RUFDM0I7O0VBRUE7SUFDRSxnQkFBZ0I7RUFDbEI7O0VBRUE7SUFDRSxjQUFjO0lBQ2QsZ0JBQWdCO0VBQ2xCOztFQUVBOztJQUVFLFdBQVc7SUFDWCxhQUFhO0lBQ2IsYUFBYTtJQUNiLGVBQWU7SUFDZixzQkFBc0I7SUFDdEIsa0JBQWtCO0VBQ3BCOztFQUVBO0lBQ0UseUJBQXlCLEVBQUUsU0FBUztJQUNwQyxZQUFZO0lBQ1osa0JBQWtCO0lBQ2xCLGVBQWU7SUFDZixZQUFZO0lBQ1osa0JBQWtCO0lBQ2xCLGVBQWU7SUFDZixnQkFBZ0I7RUFDbEI7O0VBRUE7SUFDRSx5QkFBeUI7RUFDM0I7OztFQUdBLHNDQUFzQztFQUN0QztJQUNFO01BQ0UsYUFBYTtNQUNiLFVBQVU7SUFDWjs7SUFFQTtNQUNFLGlCQUFpQjtJQUNuQjs7SUFFQTtNQUNFLFdBQVc7TUFDWCxhQUFhO0lBQ2Y7O0lBRUE7TUFDRSxXQUFXO01BQ1gsWUFBWTtJQUNkOztFQUVGIiwic291cmNlc0NvbnRlbnQiOlsiLyogRnVsbC1zY3JlZW4gYmFja2dyb3VuZCAqL1xyXG4uZnVsbC1zY3JlZW4tYmFja2dyb3VuZCB7XHJcbiAgICBiYWNrZ3JvdW5kOiB1cmwoJ3NyYy9hc3NldHMvaW1hZ2VzL2F6aXouanBnJykgbm8tcmVwZWF0IGNlbnRlciBjZW50ZXIvY292ZXIgZml4ZWQ7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIG1pbi1oZWlnaHQ6IDEwMHZoO1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgIGNvbG9yOiB3aGl0ZTsgLyogRW5zdXJlcyB0ZXh0IGlzIHZpc2libGUgb24gdGhlIGJhY2tncm91bmQgKi9cclxuICAgIGZvbnQtZmFtaWx5OiAnQXJpYWwnLCBzYW5zLXNlcmlmOyAvKiBBZGQgYSBtb2Rlcm4gZm9udCAqL1xyXG4gICAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTsgLyogU21vb3RoIHRyYW5zaXRpb24gZm9yIGVmZmVjdHMgKi9cclxuICB9XHJcbiAgXHJcbiAgLyogTG9hZGluZyBzcGlubmVyIGNvbnRhaW5lciAqL1xyXG4gIC5sb2FkaW5nLXNwaW5uZXIge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBmb250LXNpemU6IDEuNXJlbTtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIHRyYW5zaXRpb246IG9wYWNpdHkgMC4zcyBlYXNlLWluLW91dDtcclxuICB9XHJcbiAgXHJcbiAgLnNwaW5uZXIge1xyXG4gICAgYm9yZGVyOiA0cHggc29saWQgdHJhbnNwYXJlbnQ7XHJcbiAgICBib3JkZXItdG9wOiA0cHggc29saWQgI2ZmZjtcclxuICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICAgIHdpZHRoOiA2MHB4O1xyXG4gICAgaGVpZ2h0OiA2MHB4O1xyXG4gICAgYW5pbWF0aW9uOiBzcGluIDEuNXMgbGluZWFyIGluZmluaXRlO1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMjBweDtcclxuICB9XHJcbiAgXHJcbiAgQGtleWZyYW1lcyBzcGluIHtcclxuICAgIDAlIHsgdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7IH1cclxuICAgIDEwMCUgeyB0cmFuc2Zvcm06IHJvdGF0ZSgzNjBkZWcpOyB9XHJcbiAgfVxyXG5cclxuICAuYnRuLXVwZGF0ZSB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNENBRjUwOyAgLyogR3JlZW4gKi9cclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIHBhZGRpbmc6IDEwcHggMjBweDtcclxuICAgIGZvbnQtc2l6ZTogMTZweDtcclxuICAgIGJvcmRlcjogbm9uZTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgIG1hcmdpbi10b3A6IDIwcHg7XHJcbiAgfVxyXG4gIFxyXG4gIC5idG4tdXBkYXRlOmhvdmVyIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICM0NWEwNDk7XHJcbiAgfVxyXG4gIFxyXG4gIFxyXG4gIC8qIEVycm9yIG1lc3NhZ2Ugc3R5bGluZyAqL1xyXG4gIC5lcnJvci1tZXNzYWdlIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgY29sb3I6ICNmZmY7XHJcbiAgICBmb250LXNpemU6IDEuNXJlbTtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIHBhZGRpbmc6IDI1cHggNDBweDtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAwLCAwLCAwLjgpO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMTBweDtcclxuICAgIGJveC1zaGFkb3c6IDAgNHB4IDE1cHggcmdiYSgwLCAwLCAwLCAwLjMpO1xyXG4gICAgbWF4LXdpZHRoOiA4MCU7XHJcbiAgICB3aWR0aDogMzUwcHg7XHJcbiAgICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMC4zcyBlYXNlLCBvcGFjaXR5IDAuM3MgZWFzZTtcclxuICB9XHJcbiAgXHJcbiAgLmVycm9yLW1lc3NhZ2UgcCB7XHJcbiAgICBtYXJnaW46IDA7XHJcbiAgICBsaW5lLWhlaWdodDogMS41O1xyXG4gIH1cclxuICBcclxuICAvKiBGYWN0dXJlIGRldGFpbHMgY29udGFpbmVyICovXHJcbiAgLmZhY3R1cmUtZGV0YWlscyB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNyk7XHJcbiAgICBwYWRkaW5nOiAzMHB4IDQwcHg7XHJcbiAgICBib3JkZXItcmFkaXVzOiAxMnB4O1xyXG4gICAgdGV4dC1hbGlnbjogbGVmdDtcclxuICAgIHdpZHRoOiA5MCU7XHJcbiAgICBtYXgtd2lkdGg6IDcwMHB4O1xyXG4gICAgY29sb3I6ICNmMGYwZjA7XHJcbiAgICBib3gtc2hhZG93OiAwIDZweCAyMHB4IHJnYmEoMCwgMCwgMCwgMC41KTtcclxuICAgIHRyYW5zaXRpb246IHRyYW5zZm9ybSAwLjNzIGVhc2UsIG9wYWNpdHkgMC4zcyBlYXNlO1xyXG4gIH1cclxuICBcclxuICAuZmFjdHVyZS1kZXRhaWxzIGgyIHtcclxuICAgIGZvbnQtc2l6ZTogMi41cmVtO1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMjBweDtcclxuICAgIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbiAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xyXG4gICAgbGV0dGVyLXNwYWNpbmc6IDFweDtcclxuICB9XHJcbiAgXHJcbiAgLmZhY3R1cmUtZGV0YWlscyBwIHtcclxuICAgIGZvbnQtc2l6ZTogMS4ycmVtO1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMTVweDtcclxuICAgIGxpbmUtaGVpZ2h0OiAxLjY7XHJcbiAgfVxyXG4gIFxyXG4gIC5mYWN0dXJlLWRldGFpbHMgc3Ryb25nIHtcclxuICAgIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbiAgICBjb2xvcjogI2Y5Yzc0ZjsgLyogR29sZGVuIGFjY2VudCBmb3Igc3Ryb25nIGxhYmVscyAqL1xyXG4gIH1cclxuXHJcbiAgLmJ0bi11cGRhdGUge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzJhMmVhYjsgIC8qIEdyZWVuICovXHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBwYWRkaW5nOiAxMHB4IDIwcHg7XHJcbiAgICBmb250LXNpemU6IDE1cHg7XHJcbiAgICBib3JkZXI6IG5vbmU7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICBtYXJnaW4tdG9wOiAyMHB4O1xyXG4gIH1cclxuICBcclxuICAuYnRuLXVwZGF0ZTpob3ZlciB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMWU1OGE5O1xyXG4gIH1cclxuICBcclxuICAudXBkYXRlLWZvcm0ge1xyXG4gICAgbWFyZ2luLXRvcDogMjBweDtcclxuICB9XHJcbiAgXHJcbiAgLnVwZGF0ZS1mb3JtIGxhYmVsIHtcclxuICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgbWFyZ2luLXRvcDogMTBweDtcclxuICB9XHJcbiAgXHJcbiAgLnVwZGF0ZS1mb3JtIGlucHV0LFxyXG4gIC51cGRhdGUtZm9ybSBzZWxlY3Qge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBwYWRkaW5nOiAxMHB4O1xyXG4gICAgbWFyZ2luOiA1cHggMDtcclxuICAgIGZvbnQtc2l6ZTogMTZweDtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbiAgfVxyXG4gIFxyXG4gIC5idG4tc3VibWl0IHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICMwMDhDQkE7IC8qIEJsdWUgKi9cclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIHBhZGRpbmc6IDEwcHggMjBweDtcclxuICAgIGZvbnQtc2l6ZTogMTZweDtcclxuICAgIGJvcmRlcjogbm9uZTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgIG1hcmdpbi10b3A6IDIwcHg7XHJcbiAgfVxyXG4gIFxyXG4gIC5idG4tc3VibWl0OmhvdmVyIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICMwMDdiOGM7XHJcbiAgfVxyXG4gIFxyXG4gIFxyXG4gIC8qIFN0eWxpbmcgZm9yIG1vYmlsZSByZXNwb25zaXZlbmVzcyAqL1xyXG4gIEBtZWRpYSAobWF4LXdpZHRoOiA3NjhweCkge1xyXG4gICAgLmZhY3R1cmUtZGV0YWlscyB7XHJcbiAgICAgIHBhZGRpbmc6IDIwcHg7XHJcbiAgICAgIHdpZHRoOiA5NSU7XHJcbiAgICB9XHJcbiAgXHJcbiAgICAubG9hZGluZy1zcGlubmVyIHtcclxuICAgICAgZm9udC1zaXplOiAxLjJyZW07XHJcbiAgICB9XHJcbiAgXHJcbiAgICAuZXJyb3ItbWVzc2FnZSB7XHJcbiAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICBwYWRkaW5nOiAyMHB4O1xyXG4gICAgfVxyXG4gIFxyXG4gICAgLnNwaW5uZXIge1xyXG4gICAgICB3aWR0aDogNTBweDtcclxuICAgICAgaGVpZ2h0OiA1MHB4O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgfVxyXG4gICJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵelement","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","ctx_r1","error","ɵɵlistener","FactureDetailsComponent_div_5_div_28_input_6_Template_input_ngModelChange_0_listener","$event","ɵɵrestoreView","_r10","ctx_r9","ɵɵnextContext","ɵɵresetView","tempFacture","number","ɵɵproperty","ctx_r4","FactureDetailsComponent_div_5_div_28_input_9_Template_input_ngModelChange_0_listener","_r12","ctx_r11","montant","ctx_r5","FactureDetailsComponent_div_5_div_28_select_12_Template_select_ngModelChange_0_listener","_r14","ctx_r13","etatFacture","ctx_r6","FactureDetailsComponent_div_5_div_28_input_15_Template_input_ngModelChange_0_listener","_r16","ctx_r15","dateemission","ctx_r7","FactureDetailsComponent_div_5_div_28_input_18_Template_input_ngModelChange_0_listener","_r18","ctx_r17","dateecheance","ctx_r8","FactureDetailsComponent_div_5_div_28_Template_form_ngSubmit_3_listener","_r20","ctx_r19","onSubmit","ɵɵtemplate","FactureDetailsComponent_div_5_div_28_input_6_Template","FactureDetailsComponent_div_5_div_28_input_9_Template","FactureDetailsComponent_div_5_div_28_select_12_Template","FactureDetailsComponent_div_5_div_28_input_15_Template","FactureDetailsComponent_div_5_div_28_input_18_Template","ctx_r3","FactureDetailsComponent_div_5_Template_button_click_26_listener","_r22","ctx_r21","editFacture","FactureDetailsComponent_div_5_div_28_Template","ɵɵtextInterpolate1","ctx_r2","facture","ɵɵpipeBind2","isEditing","FactureDetailsComponent","constructor","route","restService","router","loading","ngOnInit","idF","snapshot","paramMap","get","retrieveById","subscribe","next","data","Date","toISOString","split","err","console","updatedFacture","updateFacture","body","response","alert","navigateToFactureList","navigate","ɵɵdirectiveInject","i1","ActivatedRoute","i2","RestService","Router","selectors","decls","vars","consts","template","FactureDetailsComponent_Template","rf","ctx","FactureDetailsComponent_Template_button_click_1_listener","FactureDetailsComponent_div_3_Template","FactureDetailsComponent_div_4_Template","FactureDetailsComponent_div_5_Template"],"sources":["C:\\Users\\moham\\Documents\\GitHub\\pi\\userappAN\\src\\app\\pages\\aziz1\\facture-details\\facture-details.component.ts","C:\\Users\\moham\\Documents\\GitHub\\pi\\userappAN\\src\\app\\pages\\aziz1\\facture-details\\facture-details.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { RestService } from 'src/app/servicesAziz/services';\r\nimport { Facture } from 'src/app/servicesAziz/models';\r\n\r\n@Component({\r\n  selector: 'app-facture-details',\r\n  templateUrl: './facture-details.component.html',\r\n  styleUrls: ['./facture-details.component.css']\r\n})\r\nexport class FactureDetailsComponent implements OnInit {\r\n  facture: Facture | null = null;\r\n  loading: boolean = true;\r\n  error: string | null = null;\r\n  isEditing: boolean = false;\r\n  \r\n\r\n  // Add a temporary facture object for editing\r\n  tempFacture: Facture | null = null;\r\n\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private restService: RestService,\r\n    private router: Router\r\n\r\n  ) {}\r\n\r\n\r\n  // Toggle between view and edit mode\r\n  editFacture(): void {\r\n    this.isEditing = !this.isEditing;\r\n  }\r\n  ngOnInit(): void {\r\n    const idF = this.route.snapshot.paramMap.get('idF'); // Get idF from route\r\n    if (idF) {\r\n      this.restService.retrieveById({ idF: +idF }).subscribe({\r\n        next: (data) => {\r\n          this.facture = data;\r\n          \r\n          // Ensure the dates are in Date format\r\n            this.facture.dateemission = new Date(this.facture.dateemission).toISOString().split('T')[0];\r\n            this.facture.dateecheance = new Date(this.facture.dateecheance).toISOString().split('T')[0];\r\n          this.tempFacture = { ...data }; // Copy data into tempFacture for editing\r\n          this.loading = false;\r\n        },\r\n        error: (err) => {\r\n          this.error = 'Failed to load facture details.';\r\n          this.loading = false;\r\n          console.error(err);\r\n        }\r\n      });\r\n    } else {\r\n      this.error = 'Invalid facture ID.';\r\n      this.loading = false;\r\n    }\r\n  }\r\n  \r\n  \r\n  \r\n\r\n  // Submit the update form\r\n  onSubmit(): void {\r\n    if (this.tempFacture && this.facture) {\r\n      const updatedFacture: Facture = {\r\n        idF: this.facture.idF,\r\n        number: this.tempFacture.number,\r\n        montant: this.tempFacture.montant,\r\n        etatFacture: this.tempFacture.etatFacture,\r\n        dateemission: this.tempFacture.dateemission,\r\n        dateecheance: this.tempFacture.dateecheance\r\n      };\r\n\r\n      this.restService.updateFacture({ body: updatedFacture }).subscribe(\r\n        (response) => {\r\n          this.facture = response; // Update facture with the new data\r\n          alert('Facture updated successfully!');\r\n          this.isEditing = false; // Hide the form after successful update\r\n        },\r\n        (error) => {\r\n          this.error = 'Error updating facture: ' + error;\r\n          alert(this.error);\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  navigateToFactureList() {\r\n    this.router.navigate(['/facture']);\r\n  }\r\n\r\n  \r\n\r\n  \r\n  \r\n}\r\n","<div class=\"full-screen-background\">\r\n  <button (click)=\"navigateToFactureList()\"class=\"btn-update\"> (←) factures</button>\r\n\r\n  \r\n  <div *ngIf=\"loading\" class=\"loading-spinner\">\r\n    <div class=\"spinner\"></div>\r\n    <p>Loading...</p>\r\n  </div>\r\n\r\n  <div *ngIf=\"error\" class=\"error-message\">\r\n    <p>{{ error }}</p>\r\n  </div>\r\n\r\n  <div *ngIf=\"facture && !loading\" class=\"facture-details\">\r\n    <h2>Facture Details</h2>\r\n    <p><strong>Number:</strong> {{ facture.number }}</p>\r\n    <p><strong>Montant:</strong> {{ facture.montant | currency: 'EUR' }}</p>\r\n    <p><strong>État:</strong> {{ facture.etatFacture }}</p>\r\n    <p><strong>Date d'Émission:</strong> {{ facture.dateemission | date: 'shortDate' }}</p>\r\n    <p><strong>Date d'Échéance:</strong> {{ facture.dateecheance | date: 'shortDate' }}</p>\r\n\r\n    <!-- Update Button -->\r\n    <button (click)=\"editFacture()\" class=\"btn-update\">Update Facture</button>\r\n\r\n\r\n    <!-- Update Form (Initially hidden) -->\r\n    <div *ngIf=\"isEditing\" class=\"update-form\">\r\n      <h3>Update Facture</h3>\r\n      <form (ngSubmit)=\"onSubmit()\">\r\n        <label for=\"number\">Number:</label>\r\n        <input *ngIf=\"tempFacture\" type=\"text\" id=\"number\" [(ngModel)]=\"tempFacture.number\" name=\"number\" required />\r\n\r\n        <label for=\"montant\">Montant:</label>\r\n        <input *ngIf=\"tempFacture\" type=\"number\" id=\"montant\" [(ngModel)]=\"tempFacture.montant\" name=\"montant\" required />\r\n\r\n        <label for=\"etatFacture\">État:</label>\r\n        <select *ngIf=\"tempFacture\" id=\"etatFacture\" [(ngModel)]=\"tempFacture.etatFacture\" name=\"etatFacture\" required>\r\n          <option value=\"ATTENTE\">ATTENTE</option>\r\n          <option value=\"PAYE\">PAYE</option>\r\n          <option value=\"RETARD\">RETARD</option>\r\n        </select>\r\n\r\n        <label for=\"dateemission\">Date d'Émission:</label>\r\n        <input *ngIf=\"tempFacture\" type=\"text\" id=\"dateemission\" [(ngModel)]=\"tempFacture.dateemission\" name=\"dateemission\" required />\r\n\r\n        <label for=\"dateecheance\">Date d'Échéance:</label>\r\n        <input *ngIf=\"tempFacture\" type=\"text\" id=\"dateecheance\" [(ngModel)]=\"tempFacture.dateecheance\" name=\"dateecheance\" required />\r\n              \r\n\r\n\r\n        <button type=\"submit\" class=\"btn-submit\">Save Changes</button>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</div>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}