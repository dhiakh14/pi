{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/service-arij/supplier.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"@angular/material/card\";\nfunction SuppPredictionComponent_div_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12);\n    i0.ɵɵelement(1, \"div\", 13);\n    i0.ɵɵelementStart(2, \"p\");\n    i0.ɵɵtext(3, \"Loading prediction...\");\n    i0.ɵɵelementEnd()();\n  }\n}\nconst _c0 = function (a0, a1) {\n  return {\n    \"active\": a0,\n    \"inactive\": a1\n  };\n};\nfunction SuppPredictionComponent_div_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14)(1, \"mat-card-header\")(2, \"mat-card-title\");\n    i0.ɵɵtext(3, \"Prediction Result\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"mat-card-content\")(5, \"div\", 15)(6, \"h2\", 16);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"div\", 17)(9, \"p\")(10, \"strong\");\n    i0.ɵɵtext(11, \"Probabilities:\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"div\", 18);\n    i0.ɵɵelement(13, \"div\", 19);\n    i0.ɵɵelementStart(14, \"span\");\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"div\", 20);\n    i0.ɵɵelement(17, \"div\", 19);\n    i0.ɵɵelementStart(18, \"span\");\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(8, _c0, ctx_r2.predictionStatus === \"active\", ctx_r2.predictionStatus === \"inactive\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" Status: \", ctx_r2.predictionStatus, \" \");\n    i0.ɵɵadvance(6);\n    i0.ɵɵstyleProp(\"width\", ctx_r2.probabilities[0] * 100, \"%\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Inactive: \", (ctx_r2.probabilities[0] * 100).toFixed(2), \"%\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵstyleProp(\"width\", ctx_r2.probabilities[1] * 100, \"%\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Active: \", (ctx_r2.probabilities[1] * 100).toFixed(2), \"%\");\n  }\n}\nexport class SuppPredictionComponent {\n  constructor(supplierService, router) {\n    this.supplierService = supplierService;\n    this.router = router;\n    this.createdAt = ''; // Date in string format\n    this.aiRating = 0;\n    this.clickCount = 0;\n    this.predictionStatus = '';\n    this.isLoading = false;\n    this.probabilities = []; // Will hold the probabilities for active/inactive\n  }\n\n  ngOnInit() {}\n  getPrediction() {\n    this.isLoading = true;\n    const supplierData = {\n      createdAt: new Date(this.createdAt).getTime(),\n      aiRating: this.aiRating,\n      clickCount: this.clickCount\n    };\n    this.supplierService.getPredictionForSupplier(supplierData).subscribe({\n      next: response => {\n        this.predictionStatus = response.status;\n        this.probabilities = response.probabilities[0]; // Storing the probabilities\n        this.isLoading = false;\n        console.log('Prediction Status:', this.predictionStatus);\n        console.log('Probabilities:', this.probabilities);\n      },\n      error: error => {\n        console.error(error);\n        this.isLoading = false;\n      }\n    });\n  }\n  navigateToDashboard() {\n    this.router.navigate(['/dashboard']);\n  }\n  static {\n    this.ɵfac = function SuppPredictionComponent_Factory(t) {\n      return new (t || SuppPredictionComponent)(i0.ɵɵdirectiveInject(i1.SupplierService), i0.ɵɵdirectiveInject(i2.Router));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: SuppPredictionComponent,\n      selectors: [[\"app-supp-prediction\"]],\n      decls: 25,\n      vars: 8,\n      consts: [[1, \"prediction-form\"], [3, \"ngSubmit\"], [\"appearance\", \"fill\"], [\"matInput\", \"\", \"name\", \"createdAt\", \"required\", \"\", 3, \"matDatepicker\", \"ngModel\", \"ngModelChange\"], [\"matSuffix\", \"\", 3, \"for\"], [\"picker\", \"\"], [\"matInput\", \"\", \"type\", \"number\", \"name\", \"aiRating\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"matInput\", \"\", \"type\", \"number\", \"name\", \"clickCount\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", 3, \"disabled\"], [1, \"btn-dashboard\", 3, \"click\"], [\"class\", \"loading-spinner\", 4, \"ngIf\"], [\"class\", \"prediction-card\", 4, \"ngIf\"], [1, \"loading-spinner\"], [1, \"spinner\"], [1, \"prediction-card\"], [1, \"status\"], [3, \"ngClass\"], [1, \"probabilities\"], [1, \"probability-bar\", \"inactive\"], [1, \"bar\"], [1, \"probability-bar\", \"active\"]],\n      template: function SuppPredictionComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n          i0.ɵɵtext(2, \"Get Supplier Prediction\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(3, \"form\", 1);\n          i0.ɵɵlistener(\"ngSubmit\", function SuppPredictionComponent_Template_form_ngSubmit_3_listener() {\n            return ctx.getPrediction();\n          });\n          i0.ɵɵelementStart(4, \"mat-form-field\", 2)(5, \"mat-label\");\n          i0.ɵɵtext(6, \"Created At\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(7, \"input\", 3);\n          i0.ɵɵlistener(\"ngModelChange\", function SuppPredictionComponent_Template_input_ngModelChange_7_listener($event) {\n            return ctx.createdAt = $event;\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(8, \"mat-datepicker-toggle\", 4)(9, \"mat-datepicker\", null, 5);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(11, \"mat-form-field\", 2)(12, \"mat-label\");\n          i0.ɵɵtext(13, \"AI Rating\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(14, \"input\", 6);\n          i0.ɵɵlistener(\"ngModelChange\", function SuppPredictionComponent_Template_input_ngModelChange_14_listener($event) {\n            return ctx.aiRating = $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(15, \"mat-form-field\", 2)(16, \"mat-label\");\n          i0.ɵɵtext(17, \"Click Count\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(18, \"input\", 7);\n          i0.ɵɵlistener(\"ngModelChange\", function SuppPredictionComponent_Template_input_ngModelChange_18_listener($event) {\n            return ctx.clickCount = $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(19, \"button\", 8);\n          i0.ɵɵtext(20, \"Get Prediction\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(21, \"button\", 9);\n          i0.ɵɵlistener(\"click\", function SuppPredictionComponent_Template_button_click_21_listener() {\n            return ctx.navigateToDashboard();\n          });\n          i0.ɵɵtext(22, \"Go to Dashboard\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(23, SuppPredictionComponent_div_23_Template, 4, 0, \"div\", 10);\n          i0.ɵɵtemplate(24, SuppPredictionComponent_div_24_Template, 20, 11, \"div\", 11);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          const _r0 = i0.ɵɵreference(10);\n          i0.ɵɵadvance(7);\n          i0.ɵɵproperty(\"matDatepicker\", _r0)(\"ngModel\", ctx.createdAt);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"for\", _r0);\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"ngModel\", ctx.aiRating);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngModel\", ctx.clickCount);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"disabled\", ctx.isLoading);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngIf\", ctx.isLoading);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.isLoading && ctx.predictionStatus);\n        }\n      },\n      dependencies: [i3.NgClass, i3.NgIf, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NumberValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.NgModel, i4.NgForm, i5.MatCardContent, i5.MatCardHeader, i5.MatCardTitle],\n      styles: [\"\\n\\n.prediction-form[_ngcontent-%COMP%] {\\n    width: 100%;\\n    padding: 20px;\\n    background-color: #f4f4f9;\\n    border-radius: 8px;\\n    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\\n  }\\n  \\n  .prediction-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\n    text-align: center;\\n    font-size: 24px;\\n    margin-bottom: 20px;\\n  }\\n  \\n  .prediction-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%] {\\n    display: flex;\\n    flex-direction: column;\\n    gap: 15px;\\n  }\\n  \\n  button[_ngcontent-%COMP%] {\\n    padding: 12px;\\n    background-color: #4CAF50;\\n    color: white;\\n    border: none;\\n    border-radius: 5px;\\n    cursor: pointer;\\n  }\\n  \\n  button[_ngcontent-%COMP%]:disabled {\\n    background-color: #ccc;\\n  }\\n  \\n  \\n\\n  .loading-spinner[_ngcontent-%COMP%] {\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n    flex-direction: column;\\n  }\\n  \\n  .spinner[_ngcontent-%COMP%] {\\n    border: 8px solid #f3f3f3; \\n\\n    border-top: 8px solid #3498db; \\n\\n    border-radius: 50%;\\n    width: 50px;\\n    height: 50px;\\n    animation: _ngcontent-%COMP%_spin 2s linear infinite;\\n  }\\n  \\n  @keyframes _ngcontent-%COMP%_spin {\\n    0% { transform: rotate(0deg); }\\n    100% { transform: rotate(360deg); }\\n  }\\n  \\n  .loading-spinner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n    margin-top: 10px;\\n  }\\n  \\n  \\n\\n  .prediction-card[_ngcontent-%COMP%] {\\n    background-color: #fff;\\n    padding: 20px;\\n    border-radius: 8px;\\n    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\\n  }\\n  \\n  .status[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\n    text-align: center;\\n    font-size: 32px;\\n    font-weight: bold;\\n    margin-bottom: 20px;\\n  }\\n  \\n  .status[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%] {\\n    color: green;\\n  }\\n  \\n  .status[_ngcontent-%COMP%]   .inactive[_ngcontent-%COMP%] {\\n    color: red;\\n  }\\n  \\n  \\n\\n  .probability-bar[_ngcontent-%COMP%] {\\n    display: flex;\\n    align-items: center;\\n    margin-bottom: 10px;\\n    background-color: #f4f4f4;\\n    border-radius: 5px;\\n    padding: 5px;\\n    height: 40px;\\n  }\\n  \\n  .probability-bar.active[_ngcontent-%COMP%] {\\n    background-color: #a8e6a3; \\n\\n  }\\n  \\n  .probability-bar.inactive[_ngcontent-%COMP%] {\\n    background-color: #ffcccc; \\n\\n  }\\n  \\n  .bar[_ngcontent-%COMP%] {\\n    height: 100%;\\n    border-radius: 5px;\\n  }\\n  \\n  .probabilities[_ngcontent-%COMP%] {\\n    display: flex;\\n    flex-direction: column;\\n    gap: 10px;\\n  }\\n  \\n  .probabilities[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\\n    font-size: 16px;\\n    font-weight: 600;\\n    color: #333;\\n  }\\n  \\n  mat-card[_ngcontent-%COMP%] {\\n    margin: 20px 0;\\n    padding: 20px;\\n    background-color: #f9f9f9;\\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\\n    border-radius: 8px;\\n  }\\n  \\n  .btn-dashboard[_ngcontent-%COMP%] {\\n    background-color: #dc3545; \\n\\n    font-size: 1rem;\\n    padding: 10px 15px;\\n  }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvc3VwcC1wcmVkaWN0aW9uL3N1cHAtcHJlZGljdGlvbi5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLHdDQUF3QztBQUN4QztJQUNJLFdBQVc7SUFDWCxhQUFhO0lBQ2IseUJBQXlCO0lBQ3pCLGtCQUFrQjtJQUNsQix5Q0FBeUM7RUFDM0M7O0VBRUE7SUFDRSxrQkFBa0I7SUFDbEIsZUFBZTtJQUNmLG1CQUFtQjtFQUNyQjs7RUFFQTtJQUNFLGFBQWE7SUFDYixzQkFBc0I7SUFDdEIsU0FBUztFQUNYOztFQUVBO0lBQ0UsYUFBYTtJQUNiLHlCQUF5QjtJQUN6QixZQUFZO0lBQ1osWUFBWTtJQUNaLGtCQUFrQjtJQUNsQixlQUFlO0VBQ2pCOztFQUVBO0lBQ0Usc0JBQXNCO0VBQ3hCOztFQUVBLG9CQUFvQjtFQUNwQjtJQUNFLGFBQWE7SUFDYix1QkFBdUI7SUFDdkIsbUJBQW1CO0lBQ25CLHNCQUFzQjtFQUN4Qjs7RUFFQTtJQUNFLHlCQUF5QixFQUFFLGVBQWU7SUFDMUMsNkJBQTZCLEVBQUUsU0FBUztJQUN4QyxrQkFBa0I7SUFDbEIsV0FBVztJQUNYLFlBQVk7SUFDWixrQ0FBa0M7RUFDcEM7O0VBRUE7SUFDRSxLQUFLLHVCQUF1QixFQUFFO0lBQzlCLE9BQU8seUJBQXlCLEVBQUU7RUFDcEM7O0VBRUE7SUFDRSxnQkFBZ0I7RUFDbEI7O0VBRUEsOEJBQThCO0VBQzlCO0lBQ0Usc0JBQXNCO0lBQ3RCLGFBQWE7SUFDYixrQkFBa0I7SUFDbEIseUNBQXlDO0VBQzNDOztFQUVBO0lBQ0Usa0JBQWtCO0lBQ2xCLGVBQWU7SUFDZixpQkFBaUI7SUFDakIsbUJBQW1CO0VBQ3JCOztFQUVBO0lBQ0UsWUFBWTtFQUNkOztFQUVBO0lBQ0UsVUFBVTtFQUNaOztFQUVBLHFCQUFxQjtFQUNyQjtJQUNFLGFBQWE7SUFDYixtQkFBbUI7SUFDbkIsbUJBQW1CO0lBQ25CLHlCQUF5QjtJQUN6QixrQkFBa0I7SUFDbEIsWUFBWTtJQUNaLFlBQVk7RUFDZDs7RUFFQTtJQUNFLHlCQUF5QixFQUFFLGdCQUFnQjtFQUM3Qzs7RUFFQTtJQUNFLHlCQUF5QixFQUFFLGNBQWM7RUFDM0M7O0VBRUE7SUFDRSxZQUFZO0lBQ1osa0JBQWtCO0VBQ3BCOztFQUVBO0lBQ0UsYUFBYTtJQUNiLHNCQUFzQjtJQUN0QixTQUFTO0VBQ1g7O0VBRUE7SUFDRSxlQUFlO0lBQ2YsZ0JBQWdCO0lBQ2hCLFdBQVc7RUFDYjs7RUFFQTtJQUNFLGNBQWM7SUFDZCxhQUFhO0lBQ2IseUJBQXlCO0lBQ3pCLHdDQUF3QztJQUN4QyxrQkFBa0I7RUFDcEI7O0VBRUE7SUFDRSx5QkFBeUIsRUFBRSxnQ0FBZ0M7SUFDM0QsZUFBZTtJQUNmLGtCQUFrQjtFQUNwQiIsInNvdXJjZXNDb250ZW50IjpbIi8qIEdlbmVyYWwgc3R5bGluZyBmb3IgcHJlZGljdGlvbiBmb3JtICovXHJcbi5wcmVkaWN0aW9uLWZvcm0ge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBwYWRkaW5nOiAyMHB4O1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2Y0ZjRmOTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDhweDtcclxuICAgIGJveC1zaGFkb3c6IDAgMnB4IDEwcHggcmdiYSgwLCAwLCAwLCAwLjEpO1xyXG4gIH1cclxuICBcclxuICAucHJlZGljdGlvbi1mb3JtIGgyIHtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIGZvbnQtc2l6ZTogMjRweDtcclxuICAgIG1hcmdpbi1ib3R0b206IDIwcHg7XHJcbiAgfVxyXG4gIFxyXG4gIC5wcmVkaWN0aW9uLWZvcm0gZm9ybSB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgIGdhcDogMTVweDtcclxuICB9XHJcbiAgXHJcbiAgYnV0dG9uIHtcclxuICAgIHBhZGRpbmc6IDEycHg7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNENBRjUwO1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gIH1cclxuICBcclxuICBidXR0b246ZGlzYWJsZWQge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2NjYztcclxuICB9XHJcbiAgXHJcbiAgLyogTG9hZGluZyBTcGlubmVyICovXHJcbiAgLmxvYWRpbmctc3Bpbm5lciB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICB9XHJcbiAgXHJcbiAgLnNwaW5uZXIge1xyXG4gICAgYm9yZGVyOiA4cHggc29saWQgI2YzZjNmMzsgLyogTGlnaHQgZ3JleSAqL1xyXG4gICAgYm9yZGVyLXRvcDogOHB4IHNvbGlkICMzNDk4ZGI7IC8qIEJsdWUgKi9cclxuICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICAgIHdpZHRoOiA1MHB4O1xyXG4gICAgaGVpZ2h0OiA1MHB4O1xyXG4gICAgYW5pbWF0aW9uOiBzcGluIDJzIGxpbmVhciBpbmZpbml0ZTtcclxuICB9XHJcbiAgXHJcbiAgQGtleWZyYW1lcyBzcGluIHtcclxuICAgIDAlIHsgdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7IH1cclxuICAgIDEwMCUgeyB0cmFuc2Zvcm06IHJvdGF0ZSgzNjBkZWcpOyB9XHJcbiAgfVxyXG4gIFxyXG4gIC5sb2FkaW5nLXNwaW5uZXIgcCB7XHJcbiAgICBtYXJnaW4tdG9wOiAxMHB4O1xyXG4gIH1cclxuICBcclxuICAvKiBQcmVkaWN0aW9uIHJlc3VsdCBzdHlsaW5nICovXHJcbiAgLnByZWRpY3Rpb24tY2FyZCB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xyXG4gICAgcGFkZGluZzogMjBweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDhweDtcclxuICAgIGJveC1zaGFkb3c6IDAgMnB4IDEwcHggcmdiYSgwLCAwLCAwLCAwLjEpO1xyXG4gIH1cclxuICBcclxuICAuc3RhdHVzIGgyIHtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIGZvbnQtc2l6ZTogMzJweDtcclxuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMjBweDtcclxuICB9XHJcbiAgXHJcbiAgLnN0YXR1cyAuYWN0aXZlIHtcclxuICAgIGNvbG9yOiBncmVlbjtcclxuICB9XHJcbiAgXHJcbiAgLnN0YXR1cyAuaW5hY3RpdmUge1xyXG4gICAgY29sb3I6IHJlZDtcclxuICB9XHJcbiAgXHJcbiAgLyogUHJvYmFiaWxpdHkgYmFycyAqL1xyXG4gIC5wcm9iYWJpbGl0eS1iYXIge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2Y0ZjRmNDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICAgIHBhZGRpbmc6IDVweDtcclxuICAgIGhlaWdodDogNDBweDtcclxuICB9XHJcbiAgXHJcbiAgLnByb2JhYmlsaXR5LWJhci5hY3RpdmUge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2E4ZTZhMzsgLyogTGlnaHQgZ3JlZW4gKi9cclxuICB9XHJcbiAgXHJcbiAgLnByb2JhYmlsaXR5LWJhci5pbmFjdGl2ZSB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZjY2NjOyAvKiBMaWdodCByZWQgKi9cclxuICB9XHJcbiAgXHJcbiAgLmJhciB7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbiAgfVxyXG4gIFxyXG4gIC5wcm9iYWJpbGl0aWVzIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgZ2FwOiAxMHB4O1xyXG4gIH1cclxuICBcclxuICAucHJvYmFiaWxpdGllcyBzcGFuIHtcclxuICAgIGZvbnQtc2l6ZTogMTZweDtcclxuICAgIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbiAgICBjb2xvcjogIzMzMztcclxuICB9XHJcbiAgXHJcbiAgbWF0LWNhcmQge1xyXG4gICAgbWFyZ2luOiAyMHB4IDA7XHJcbiAgICBwYWRkaW5nOiAyMHB4O1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2Y5ZjlmOTtcclxuICAgIGJveC1zaGFkb3c6IDAgNHB4IDhweCByZ2JhKDAsIDAsIDAsIDAuMSk7XHJcbiAgICBib3JkZXItcmFkaXVzOiA4cHg7XHJcbiAgfVxyXG4gIFxyXG4gIC5idG4tZGFzaGJvYXJkIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNkYzM1NDU7IC8qIFJlZCBjb2xvciBmb3IgJ0JhY2snIGJ1dHRvbiAqL1xyXG4gICAgZm9udC1zaXplOiAxcmVtO1xyXG4gICAgcGFkZGluZzogMTBweCAxNXB4O1xyXG4gIH0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵelement","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵproperty","ɵɵpureFunction2","_c0","ctx_r2","predictionStatus","ɵɵtextInterpolate1","ɵɵstyleProp","probabilities","toFixed","SuppPredictionComponent","constructor","supplierService","router","createdAt","aiRating","clickCount","isLoading","ngOnInit","getPrediction","supplierData","Date","getTime","getPredictionForSupplier","subscribe","next","response","status","console","log","error","navigateToDashboard","navigate","ɵɵdirectiveInject","i1","SupplierService","i2","Router","selectors","decls","vars","consts","template","SuppPredictionComponent_Template","rf","ctx","ɵɵlistener","SuppPredictionComponent_Template_form_ngSubmit_3_listener","SuppPredictionComponent_Template_input_ngModelChange_7_listener","$event","SuppPredictionComponent_Template_input_ngModelChange_14_listener","SuppPredictionComponent_Template_input_ngModelChange_18_listener","SuppPredictionComponent_Template_button_click_21_listener","ɵɵtemplate","SuppPredictionComponent_div_23_Template","SuppPredictionComponent_div_24_Template","_r0"],"sources":["C:\\Users\\moham\\Documents\\GitHub\\pi\\userappAN\\src\\app\\pages\\supp-prediction\\supp-prediction.component.ts","C:\\Users\\moham\\Documents\\GitHub\\pi\\userappAN\\src\\app\\pages\\supp-prediction\\supp-prediction.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { SupplierService } from 'src/app/service-arij/supplier.service';\nimport { Router, ActivatedRoute } from '@angular/router';\n\n\n@Component({\n  selector: 'app-supp-prediction',\n  templateUrl: './supp-prediction.component.html',\n  styleUrls: ['./supp-prediction.component.css']\n})\nexport class SuppPredictionComponent implements OnInit {\n  createdAt: string = ''; // Date in string format\n  aiRating: number = 0;\n  clickCount: number = 0;\n  predictionStatus: string = '';\n  isLoading: boolean = false;\n  probabilities: number[] = [];  // Will hold the probabilities for active/inactive\n\n  constructor(private supplierService: SupplierService, private router: Router) {}\n\n  ngOnInit(): void {}\n\n  getPrediction(): void {\n    this.isLoading = true;\n\n    const supplierData = {\n      createdAt: new Date(this.createdAt).getTime(),  // Convert to timestamp\n      aiRating: this.aiRating,\n      clickCount: this.clickCount\n    };\n\n    this.supplierService.getPredictionForSupplier(supplierData).subscribe({\n      next: (response: any) => {\n        this.predictionStatus = response.status;\n        this.probabilities = response.probabilities[0];  // Storing the probabilities\n        this.isLoading = false;\n        console.log('Prediction Status:', this.predictionStatus);\n        console.log('Probabilities:', this.probabilities);\n      },\n      error: (error: any) => {\n        console.error(error);\n        this.isLoading = false;\n      }\n    });\n  }\n  navigateToDashboard(): void {\n    this.router.navigate(['/dashboard']);\n  }\n}\n","<div class=\"prediction-form\">\n    <h2>Get Supplier Prediction</h2>\n  \n    <!-- Form to input the features -->\n    <form (ngSubmit)=\"getPrediction()\">\n      <!-- Date picker for createdAt -->\n      <mat-form-field appearance=\"fill\">\n        <mat-label>Created At</mat-label>\n        <input matInput [matDatepicker]=\"picker\" [(ngModel)]=\"createdAt\" name=\"createdAt\" required />\n        <mat-datepicker-toggle matSuffix [for]=\"picker\"></mat-datepicker-toggle>\n        <mat-datepicker #picker></mat-datepicker>\n      </mat-form-field>\n  \n      <mat-form-field appearance=\"fill\">\n        <mat-label>AI Rating</mat-label>\n        <input matInput type=\"number\" [(ngModel)]=\"aiRating\" name=\"aiRating\" required />\n      </mat-form-field>\n  \n      <mat-form-field appearance=\"fill\">\n        <mat-label>Click Count</mat-label>\n        <input matInput type=\"number\" [(ngModel)]=\"clickCount\" name=\"clickCount\" required />\n      </mat-form-field>\n  \n      <button type=\"submit\" [disabled]=\"isLoading\">Get Prediction</button>\n      <button class=\"btn-dashboard\" (click)=\"navigateToDashboard()\">Go to Dashboard</button>\n\n    </form>\n  \n    <!-- Loading Spinner -->\n    <div *ngIf=\"isLoading\" class=\"loading-spinner\">\n      <div class=\"spinner\"></div>\n      <p>Loading prediction...</p>\n    </div>\n  \n    <!-- Display the prediction result -->\n    <div class=\"prediction-card\" *ngIf=\"!isLoading && predictionStatus\">\n      <mat-card-header>\n        <mat-card-title>Prediction Result</mat-card-title>\n      </mat-card-header>\n      <mat-card-content>\n        <div class=\"status\">\n          <h2 [ngClass]=\"{ 'active': predictionStatus === 'active', 'inactive': predictionStatus === 'inactive' }\">\n            Status: {{ predictionStatus }}\n          </h2>\n        </div>\n        <div class=\"probabilities\">\n          <p><strong>Probabilities:</strong></p>\n          <div class=\"probability-bar inactive\">\n            <div class=\"bar\" [style.width.%]=\"probabilities[0] * 100\"></div>\n            <span>Inactive: {{ (probabilities[0] * 100).toFixed(2) }}%</span>\n          </div>\n          <div class=\"probability-bar active\">\n            <div class=\"bar\" [style.width.%]=\"probabilities[1] * 100\"></div>\n            <span>Active: {{ (probabilities[1] * 100).toFixed(2) }}%</span>\n          </div>\n        </div>\n      </mat-card-content>\n    </div>\n  </div>\n  "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}