{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/CameraService \";\nimport * as i2 from \"@angular/common\";\nfunction CameraControlComponent_span_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵelement(1, \"i\", 9);\n    i0.ɵɵtext(2, \" Start Camera \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CameraControlComponent_span_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵelement(1, \"i\", 10);\n    i0.ɵɵtext(2, \" Stop Camera \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CameraControlComponent_div_8_img_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 20);\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"src\", ctx_r5.imageSrc, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction CameraControlComponent_div_8_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 21);\n    i0.ɵɵelement(1, \"div\", 22);\n    i0.ɵɵelementStart(2, \"p\");\n    i0.ɵɵtext(3, \"Initializing camera...\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction CameraControlComponent_div_8_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 16)(1, \"div\", 17);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 18);\n    i0.ɵɵtext(4, \"Highest Confidence\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r7.getHighestConfidence(), \"%\");\n  }\n}\nfunction CameraControlComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 11)(1, \"div\", 12);\n    i0.ɵɵtemplate(2, CameraControlComponent_div_8_img_2_Template, 1, 1, \"img\", 13);\n    i0.ɵɵtemplate(3, CameraControlComponent_div_8_div_3_Template, 4, 0, \"div\", 14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 15)(5, \"div\", 16)(6, \"div\", 17);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 18);\n    i0.ɵɵtext(9, \"Objects Detected\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(10, CameraControlComponent_div_8_div_10_Template, 5, 1, \"div\", 19);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.imageSrc);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r2.imageSrc && ctx_r2.cameraRunning);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r2.detections.length);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.detections.length > 0);\n  }\n}\nfunction CameraControlComponent_div_9_div_6_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 31)(1, \"div\", 32);\n    i0.ɵɵelement(2, \"span\", 33);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 34);\n    i0.ɵɵelement(5, \"div\", 35);\n    i0.ɵɵelementStart(6, \"span\", 36);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"div\", 37);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const det_r12 = ctx.$implicit;\n    const ctx_r11 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(2);\n    i0.ɵɵstyleProp(\"background\", ctx_r11.getClassColor(det_r12.class));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", det_r12.class, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵstyleProp(\"width\", det_r12.confidence * 100 + \"%\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", (det_r12.confidence * 100).toFixed(1), \"%\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate4(\" [\", det_r12.bbox[0].toFixed(0), \", \", det_r12.bbox[1].toFixed(0), \"] [\", det_r12.bbox[2].toFixed(0), \", \", det_r12.bbox[3].toFixed(0), \"] \");\n  }\n}\nfunction CameraControlComponent_div_9_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 29);\n    i0.ɵɵtemplate(1, CameraControlComponent_div_9_div_6_div_1_Template, 10, 10, \"div\", 30);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r8.detections);\n  }\n}\nfunction CameraControlComponent_div_9_ng_template_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 38);\n    i0.ɵɵelement(1, \"i\", 39);\n    i0.ɵɵelementStart(2, \"p\");\n    i0.ɵɵtext(3, \"No objects detected\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction CameraControlComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 23)(1, \"h3\", 24);\n    i0.ɵɵelement(2, \"i\", 25);\n    i0.ɵɵtext(3, \" Detection Results \");\n    i0.ɵɵelementStart(4, \"span\", 26);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(6, CameraControlComponent_div_9_div_6_Template, 2, 1, \"div\", 27);\n    i0.ɵɵtemplate(7, CameraControlComponent_div_9_ng_template_7_Template, 4, 0, \"ng-template\", null, 28, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const _r9 = i0.ɵɵreference(8);\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r3.detections.length);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.detections.length > 0)(\"ngIfElse\", _r9);\n  }\n}\nfunction CameraControlComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 40)(1, \"div\", 41);\n    i0.ɵɵelement(2, \"i\", 42);\n    i0.ɵɵelementStart(3, \"h3\");\n    i0.ɵɵtext(4, \"Camera is currently offline\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\");\n    i0.ɵɵtext(6, \"Click the \\\"Start Camera\\\" button to begin object detection\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nconst _c0 = function (a0) {\n  return {\n    \"active\": a0\n  };\n};\nexport class CameraControlComponent {\n  constructor(cameraService) {\n    this.cameraService = cameraService;\n    this.cameraRunning = false;\n    this.imageSrc = '';\n    this.detections = [];\n  }\n  ngOnInit() {\n    this.checkCameraStatus();\n  }\n  ngOnDestroy() {\n    this.stopDetection();\n  }\n  checkCameraStatus() {\n    this.cameraService.getCameraStatus().subscribe(status => {\n      this.cameraRunning = status.running;\n      if (this.cameraRunning) {\n        this.startDetection();\n      }\n    });\n  }\n  toggleCamera() {\n    if (this.cameraRunning) {\n      this.cameraService.stopCamera().subscribe(() => {\n        this.cameraRunning = false;\n        this.stopDetection();\n      });\n    } else {\n      this.cameraService.startCamera().subscribe(() => {\n        this.waitForCameraReady();\n      });\n    }\n  }\n  waitForCameraReady() {\n    const interval = setInterval(() => {\n      this.cameraService.getCameraStatus().subscribe(status => {\n        if (status.running && status.ready) {\n          clearInterval(interval);\n          this.cameraRunning = true;\n          this.startDetection();\n        }\n      });\n    }, 500);\n  }\n  startDetection() {\n    this.detectionSub = this.cameraService.startDetectionPolling().subscribe({\n      next: data => {\n        if (data.image) {\n          this.imageSrc = 'data:image/jpeg;base64,' + data.image;\n          this.detections = data.detections || [];\n          console.log('New detections:', this.detections);\n        }\n      }\n    });\n  }\n  stopDetection() {\n    if (this.detectionSub) {\n      this.detectionSub.unsubscribe();\n    }\n    this.imageSrc = '';\n    this.detections = [];\n  }\n  getHighestConfidence() {\n    if (this.detections.length === 0) return '0';\n    const highest = Math.max(...this.detections.map(d => d.confidence * 100));\n    return highest.toFixed(1);\n  }\n  getClassColor(className) {\n    const hash = Array.from(className).reduce((hash, char) => char.charCodeAt(0) + ((hash << 5) - hash), 0);\n    const h = Math.abs(hash) % 360;\n    return `hsl(${h}, 70%, 60%)`;\n  }\n  static {\n    this.ɵfac = function CameraControlComponent_Factory(t) {\n      return new (t || CameraControlComponent)(i0.ɵɵdirectiveInject(i1.CameraService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: CameraControlComponent,\n      selectors: [[\"app-camera-control\"]],\n      decls: 11,\n      vars: 8,\n      consts: [[1, \"camera-container\"], [1, \"header\"], [1, \"title\"], [1, \"control-button\", 3, \"ngClass\", \"click\"], [4, \"ngIf\"], [1, \"content-wrapper\"], [\"class\", \"camera-feed-container\", 4, \"ngIf\"], [\"class\", \"detections-panel\", 4, \"ngIf\"], [\"class\", \"camera-off-placeholder\", 4, \"ngIf\"], [1, \"fas\", \"fa-play\"], [1, \"fas\", \"fa-stop\"], [1, \"camera-feed-container\"], [1, \"video-container\"], [\"alt\", \"Camera Feed\", \"class\", \"camera-feed\", 3, \"src\", 4, \"ngIf\"], [\"class\", \"loading-overlay\", 4, \"ngIf\"], [1, \"stats-container\"], [1, \"stat-card\"], [1, \"stat-value\"], [1, \"stat-label\"], [\"class\", \"stat-card\", 4, \"ngIf\"], [\"alt\", \"Camera Feed\", 1, \"camera-feed\", 3, \"src\"], [1, \"loading-overlay\"], [1, \"spinner\"], [1, \"detections-panel\"], [1, \"panel-title\"], [1, \"fas\", \"fa-list\"], [1, \"badge\"], [\"class\", \"detections-list\", 4, \"ngIf\", \"ngIfElse\"], [\"noDetections\", \"\"], [1, \"detections-list\"], [\"class\", \"detection-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"detection-item\"], [1, \"detection-class\"], [1, \"class-badge\"], [1, \"detection-confidence\"], [1, \"confidence-bar\"], [1, \"confidence-value\"], [1, \"detection-bbox\"], [1, \"no-detections\"], [1, \"fas\", \"fa-binoculars\"], [1, \"camera-off-placeholder\"], [1, \"placeholder-content\"], [1, \"fas\", \"fa-video-slash\"]],\n      template: function CameraControlComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h2\", 2);\n          i0.ɵɵtext(3, \"Object Detection System\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"button\", 3);\n          i0.ɵɵlistener(\"click\", function CameraControlComponent_Template_button_click_4_listener() {\n            return ctx.toggleCamera();\n          });\n          i0.ɵɵtemplate(5, CameraControlComponent_span_5_Template, 3, 0, \"span\", 4);\n          i0.ɵɵtemplate(6, CameraControlComponent_span_6_Template, 3, 0, \"span\", 4);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(7, \"div\", 5);\n          i0.ɵɵtemplate(8, CameraControlComponent_div_8_Template, 11, 4, \"div\", 6);\n          i0.ɵɵtemplate(9, CameraControlComponent_div_9_Template, 9, 3, \"div\", 7);\n          i0.ɵɵtemplate(10, CameraControlComponent_div_10_Template, 7, 0, \"div\", 8);\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(6, _c0, ctx.cameraRunning));\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.cameraRunning);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.cameraRunning);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", ctx.cameraRunning);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.cameraRunning);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.cameraRunning);\n        }\n      },\n      dependencies: [i2.NgClass, i2.NgForOf, i2.NgIf],\n      styles: [\"\\n\\n.camera-container[_ngcontent-%COMP%] {\\n    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\\n    max-width: 1200px;\\n    margin: 0 auto;\\n    padding: 20px;\\n    color: #333;\\n  }\\n  \\n  \\n\\n  .header[_ngcontent-%COMP%] {\\n    display: flex;\\n    justify-content: space-between;\\n    align-items: center;\\n    margin-bottom: 20px;\\n    padding-bottom: 15px;\\n    border-bottom: 1px solid #eee;\\n  }\\n  \\n  .title[_ngcontent-%COMP%] {\\n    margin: 0;\\n    color: #2c3e50;\\n    font-weight: 600;\\n  }\\n  \\n  \\n\\n  .control-button[_ngcontent-%COMP%] {\\n    background-color: #4CAF50;\\n    color: white;\\n    border: none;\\n    padding: 10px 20px;\\n    border-radius: 5px;\\n    cursor: pointer;\\n    font-size: 16px;\\n    transition: all 0.3s;\\n    display: flex;\\n    align-items: center;\\n    gap: 8px;\\n  }\\n  \\n  .control-button[_ngcontent-%COMP%]:hover {\\n    background-color: #3e8e41;\\n    transform: translateY(-2px);\\n  }\\n  \\n  .control-button.active[_ngcontent-%COMP%] {\\n    background-color: #f44336;\\n  }\\n  \\n  .control-button.active[_ngcontent-%COMP%]:hover {\\n    background-color: #d32f2f;\\n  }\\n  \\n  \\n\\n  .content-wrapper[_ngcontent-%COMP%] {\\n    display: flex;\\n    gap: 20px;\\n  }\\n  \\n  .camera-feed-container[_ngcontent-%COMP%] {\\n    flex: 2;\\n  }\\n  \\n  .detections-panel[_ngcontent-%COMP%] {\\n    flex: 1;\\n    min-width: 300px;\\n  }\\n  \\n  \\n\\n  .video-container[_ngcontent-%COMP%] {\\n    position: relative;\\n    background-color: #000;\\n    border-radius: 8px;\\n    overflow: hidden;\\n    aspect-ratio: 16/9;\\n  }\\n  \\n  .camera-feed[_ngcontent-%COMP%] {\\n    width: 100%;\\n    height: 100%;\\n    object-fit: contain;\\n    display: block;\\n  }\\n  \\n  .loading-overlay[_ngcontent-%COMP%] {\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    right: 0;\\n    bottom: 0;\\n    display: flex;\\n    flex-direction: column;\\n    justify-content: center;\\n    align-items: center;\\n    background-color: rgba(0, 0, 0, 0.7);\\n    color: white;\\n  }\\n  \\n  .spinner[_ngcontent-%COMP%] {\\n    border: 4px solid rgba(255, 255, 255, 0.3);\\n    border-radius: 50%;\\n    border-top: 4px solid #fff;\\n    width: 40px;\\n    height: 40px;\\n    animation: _ngcontent-%COMP%_spin 1s linear infinite;\\n    margin-bottom: 15px;\\n  }\\n  \\n  @keyframes _ngcontent-%COMP%_spin {\\n    0% { transform: rotate(0deg); }\\n    100% { transform: rotate(360deg); }\\n  }\\n  \\n  \\n\\n  .stats-container[_ngcontent-%COMP%] {\\n    display: flex;\\n    gap: 15px;\\n    margin-top: 15px;\\n  }\\n  \\n  .stat-card[_ngcontent-%COMP%] {\\n    flex: 1;\\n    background: #f8f9fa;\\n    border-radius: 8px;\\n    padding: 15px;\\n    text-align: center;\\n    box-shadow: 0 2px 4px rgba(0,0,0,0.1);\\n  }\\n  \\n  .stat-value[_ngcontent-%COMP%] {\\n    font-size: 24px;\\n    font-weight: bold;\\n    color: #2c3e50;\\n  }\\n  \\n  .stat-label[_ngcontent-%COMP%] {\\n    font-size: 14px;\\n    color: #7f8c8d;\\n  }\\n  \\n  \\n\\n  .panel-title[_ngcontent-%COMP%] {\\n    display: flex;\\n    align-items: center;\\n    gap: 10px;\\n    color: #2c3e50;\\n    margin-top: 0;\\n    padding-bottom: 10px;\\n    border-bottom: 1px solid #eee;\\n  }\\n  \\n  .badge[_ngcontent-%COMP%] {\\n    background-color: #3498db;\\n    color: white;\\n    border-radius: 50%;\\n    width: 24px;\\n    height: 24px;\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    font-size: 12px;\\n  }\\n  \\n  .detections-list[_ngcontent-%COMP%] {\\n    max-height: 500px;\\n    overflow-y: auto;\\n    padding-right: 5px;\\n  }\\n  \\n  \\n\\n  .detection-item[_ngcontent-%COMP%] {\\n    background: white;\\n    border-radius: 6px;\\n    padding: 12px;\\n    margin-bottom: 10px;\\n    box-shadow: 0 1px 3px rgba(0,0,0,0.1);\\n  }\\n  \\n  .detection-class[_ngcontent-%COMP%] {\\n    display: flex;\\n    align-items: center;\\n    gap: 8px;\\n    font-weight: 500;\\n    margin-bottom: 8px;\\n  }\\n  \\n  .class-badge[_ngcontent-%COMP%] {\\n    display: inline-block;\\n    width: 12px;\\n    height: 12px;\\n    border-radius: 50%;\\n  }\\n  \\n  .detection-confidence[_ngcontent-%COMP%] {\\n    margin: 8px 0;\\n    position: relative;\\n  }\\n  \\n  .confidence-bar[_ngcontent-%COMP%] {\\n    height: 6px;\\n    background-color: #3498db;\\n    border-radius: 3px;\\n  }\\n  \\n  .confidence-value[_ngcontent-%COMP%] {\\n    position: absolute;\\n    right: 0;\\n    top: -20px;\\n    font-size: 12px;\\n    color: #7f8c8d;\\n  }\\n  \\n  .detection-bbox[_ngcontent-%COMP%] {\\n    font-size: 12px;\\n    color: #7f8c8d;\\n    font-family: monospace;\\n  }\\n  \\n  \\n\\n  .no-detections[_ngcontent-%COMP%] {\\n    text-align: center;\\n    padding: 30px;\\n    color: #7f8c8d;\\n  }\\n  \\n  .no-detections[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\\n    font-size: 40px;\\n    margin-bottom: 15px;\\n    opacity: 0.5;\\n  }\\n  \\n  \\n\\n  .camera-off-placeholder[_ngcontent-%COMP%] {\\n    flex: 1;\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    min-height: 400px;\\n    background-color: #f8f9fa;\\n    border-radius: 8px;\\n  }\\n  \\n  .placeholder-content[_ngcontent-%COMP%] {\\n    text-align: center;\\n    color: #7f8c8d;\\n  }\\n  \\n  .placeholder-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\\n    font-size: 50px;\\n    margin-bottom: 20px;\\n    opacity: 0.3;\\n  }\\n  \\n  \\n\\n  @media (max-width: 768px) {\\n    .content-wrapper[_ngcontent-%COMP%] {\\n      flex-direction: column;\\n    }\\n    \\n    .detections-panel[_ngcontent-%COMP%] {\\n      min-width: auto;\\n    }\\n  }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvY2FtZXJhLWNvbnRyb2wvY2FtZXJhLWNvbnRyb2wuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxtQkFBbUI7QUFDbkI7SUFDSSw0REFBNEQ7SUFDNUQsaUJBQWlCO0lBQ2pCLGNBQWM7SUFDZCxhQUFhO0lBQ2IsV0FBVztFQUNiOztFQUVBLFdBQVc7RUFDWDtJQUNFLGFBQWE7SUFDYiw4QkFBOEI7SUFDOUIsbUJBQW1CO0lBQ25CLG1CQUFtQjtJQUNuQixvQkFBb0I7SUFDcEIsNkJBQTZCO0VBQy9COztFQUVBO0lBQ0UsU0FBUztJQUNULGNBQWM7SUFDZCxnQkFBZ0I7RUFDbEI7O0VBRUEsbUJBQW1CO0VBQ25CO0lBQ0UseUJBQXlCO0lBQ3pCLFlBQVk7SUFDWixZQUFZO0lBQ1osa0JBQWtCO0lBQ2xCLGtCQUFrQjtJQUNsQixlQUFlO0lBQ2YsZUFBZTtJQUNmLG9CQUFvQjtJQUNwQixhQUFhO0lBQ2IsbUJBQW1CO0lBQ25CLFFBQVE7RUFDVjs7RUFFQTtJQUNFLHlCQUF5QjtJQUN6QiwyQkFBMkI7RUFDN0I7O0VBRUE7SUFDRSx5QkFBeUI7RUFDM0I7O0VBRUE7SUFDRSx5QkFBeUI7RUFDM0I7O0VBRUEsbUJBQW1CO0VBQ25CO0lBQ0UsYUFBYTtJQUNiLFNBQVM7RUFDWDs7RUFFQTtJQUNFLE9BQU87RUFDVDs7RUFFQTtJQUNFLE9BQU87SUFDUCxnQkFBZ0I7RUFDbEI7O0VBRUEsZ0JBQWdCO0VBQ2hCO0lBQ0Usa0JBQWtCO0lBQ2xCLHNCQUFzQjtJQUN0QixrQkFBa0I7SUFDbEIsZ0JBQWdCO0lBQ2hCLGtCQUFrQjtFQUNwQjs7RUFFQTtJQUNFLFdBQVc7SUFDWCxZQUFZO0lBQ1osbUJBQW1CO0lBQ25CLGNBQWM7RUFDaEI7O0VBRUE7SUFDRSxrQkFBa0I7SUFDbEIsTUFBTTtJQUNOLE9BQU87SUFDUCxRQUFRO0lBQ1IsU0FBUztJQUNULGFBQWE7SUFDYixzQkFBc0I7SUFDdEIsdUJBQXVCO0lBQ3ZCLG1CQUFtQjtJQUNuQixvQ0FBb0M7SUFDcEMsWUFBWTtFQUNkOztFQUVBO0lBQ0UsMENBQTBDO0lBQzFDLGtCQUFrQjtJQUNsQiwwQkFBMEI7SUFDMUIsV0FBVztJQUNYLFlBQVk7SUFDWixrQ0FBa0M7SUFDbEMsbUJBQW1CO0VBQ3JCOztFQUVBO0lBQ0UsS0FBSyx1QkFBdUIsRUFBRTtJQUM5QixPQUFPLHlCQUF5QixFQUFFO0VBQ3BDOztFQUVBLG9CQUFvQjtFQUNwQjtJQUNFLGFBQWE7SUFDYixTQUFTO0lBQ1QsZ0JBQWdCO0VBQ2xCOztFQUVBO0lBQ0UsT0FBTztJQUNQLG1CQUFtQjtJQUNuQixrQkFBa0I7SUFDbEIsYUFBYTtJQUNiLGtCQUFrQjtJQUNsQixxQ0FBcUM7RUFDdkM7O0VBRUE7SUFDRSxlQUFlO0lBQ2YsaUJBQWlCO0lBQ2pCLGNBQWM7RUFDaEI7O0VBRUE7SUFDRSxlQUFlO0lBQ2YsY0FBYztFQUNoQjs7RUFFQSxxQkFBcUI7RUFDckI7SUFDRSxhQUFhO0lBQ2IsbUJBQW1CO0lBQ25CLFNBQVM7SUFDVCxjQUFjO0lBQ2QsYUFBYTtJQUNiLG9CQUFvQjtJQUNwQiw2QkFBNkI7RUFDL0I7O0VBRUE7SUFDRSx5QkFBeUI7SUFDekIsWUFBWTtJQUNaLGtCQUFrQjtJQUNsQixXQUFXO0lBQ1gsWUFBWTtJQUNaLGFBQWE7SUFDYixtQkFBbUI7SUFDbkIsdUJBQXVCO0lBQ3ZCLGVBQWU7RUFDakI7O0VBRUE7SUFDRSxpQkFBaUI7SUFDakIsZ0JBQWdCO0lBQ2hCLGtCQUFrQjtFQUNwQjs7RUFFQSxtQkFBbUI7RUFDbkI7SUFDRSxpQkFBaUI7SUFDakIsa0JBQWtCO0lBQ2xCLGFBQWE7SUFDYixtQkFBbUI7SUFDbkIscUNBQXFDO0VBQ3ZDOztFQUVBO0lBQ0UsYUFBYTtJQUNiLG1CQUFtQjtJQUNuQixRQUFRO0lBQ1IsZ0JBQWdCO0lBQ2hCLGtCQUFrQjtFQUNwQjs7RUFFQTtJQUNFLHFCQUFxQjtJQUNyQixXQUFXO0lBQ1gsWUFBWTtJQUNaLGtCQUFrQjtFQUNwQjs7RUFFQTtJQUNFLGFBQWE7SUFDYixrQkFBa0I7RUFDcEI7O0VBRUE7SUFDRSxXQUFXO0lBQ1gseUJBQXlCO0lBQ3pCLGtCQUFrQjtFQUNwQjs7RUFFQTtJQUNFLGtCQUFrQjtJQUNsQixRQUFRO0lBQ1IsVUFBVTtJQUNWLGVBQWU7SUFDZixjQUFjO0VBQ2hCOztFQUVBO0lBQ0UsZUFBZTtJQUNmLGNBQWM7SUFDZCxzQkFBc0I7RUFDeEI7O0VBRUEsa0JBQWtCO0VBQ2xCO0lBQ0Usa0JBQWtCO0lBQ2xCLGFBQWE7SUFDYixjQUFjO0VBQ2hCOztFQUVBO0lBQ0UsZUFBZTtJQUNmLG1CQUFtQjtJQUNuQixZQUFZO0VBQ2Q7O0VBRUEsMkJBQTJCO0VBQzNCO0lBQ0UsT0FBTztJQUNQLGFBQWE7SUFDYixtQkFBbUI7SUFDbkIsdUJBQXVCO0lBQ3ZCLGlCQUFpQjtJQUNqQix5QkFBeUI7SUFDekIsa0JBQWtCO0VBQ3BCOztFQUVBO0lBQ0Usa0JBQWtCO0lBQ2xCLGNBQWM7RUFDaEI7O0VBRUE7SUFDRSxlQUFlO0lBQ2YsbUJBQW1CO0lBQ25CLFlBQVk7RUFDZDs7RUFFQSxzQkFBc0I7RUFDdEI7SUFDRTtNQUNFLHNCQUFzQjtJQUN4Qjs7SUFFQTtNQUNFLGVBQWU7SUFDakI7RUFDRiIsInNvdXJjZXNDb250ZW50IjpbIi8qIE1haW4gQ29udGFpbmVyICovXHJcbi5jYW1lcmEtY29udGFpbmVyIHtcclxuICAgIGZvbnQtZmFtaWx5OiAnU2Vnb2UgVUknLCBUYWhvbWEsIEdlbmV2YSwgVmVyZGFuYSwgc2Fucy1zZXJpZjtcclxuICAgIG1heC13aWR0aDogMTIwMHB4O1xyXG4gICAgbWFyZ2luOiAwIGF1dG87XHJcbiAgICBwYWRkaW5nOiAyMHB4O1xyXG4gICAgY29sb3I6ICMzMzM7XHJcbiAgfVxyXG4gIFxyXG4gIC8qIEhlYWRlciAqL1xyXG4gIC5oZWFkZXIge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xyXG4gICAgcGFkZGluZy1ib3R0b206IDE1cHg7XHJcbiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2VlZTtcclxuICB9XHJcbiAgXHJcbiAgLnRpdGxlIHtcclxuICAgIG1hcmdpbjogMDtcclxuICAgIGNvbG9yOiAjMmMzZTUwO1xyXG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcclxuICB9XHJcbiAgXHJcbiAgLyogQ29udHJvbCBCdXR0b24gKi9cclxuICAuY29udHJvbC1idXR0b24ge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzRDQUY1MDtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIGJvcmRlcjogbm9uZTtcclxuICAgIHBhZGRpbmc6IDEwcHggMjBweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgIGZvbnQtc2l6ZTogMTZweDtcclxuICAgIHRyYW5zaXRpb246IGFsbCAwLjNzO1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBnYXA6IDhweDtcclxuICB9XHJcbiAgXHJcbiAgLmNvbnRyb2wtYnV0dG9uOmhvdmVyIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICMzZThlNDE7XHJcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTJweCk7XHJcbiAgfVxyXG4gIFxyXG4gIC5jb250cm9sLWJ1dHRvbi5hY3RpdmUge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2Y0NDMzNjtcclxuICB9XHJcbiAgXHJcbiAgLmNvbnRyb2wtYnV0dG9uLmFjdGl2ZTpob3ZlciB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZDMyZjJmO1xyXG4gIH1cclxuICBcclxuICAvKiBDb250ZW50IExheW91dCAqL1xyXG4gIC5jb250ZW50LXdyYXBwZXIge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGdhcDogMjBweDtcclxuICB9XHJcbiAgXHJcbiAgLmNhbWVyYS1mZWVkLWNvbnRhaW5lciB7XHJcbiAgICBmbGV4OiAyO1xyXG4gIH1cclxuICBcclxuICAuZGV0ZWN0aW9ucy1wYW5lbCB7XHJcbiAgICBmbGV4OiAxO1xyXG4gICAgbWluLXdpZHRoOiAzMDBweDtcclxuICB9XHJcbiAgXHJcbiAgLyogQ2FtZXJhIEZlZWQgKi9cclxuICAudmlkZW8tY29udGFpbmVyIHtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICMwMDA7XHJcbiAgICBib3JkZXItcmFkaXVzOiA4cHg7XHJcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gICAgYXNwZWN0LXJhdGlvOiAxNi85O1xyXG4gIH1cclxuICBcclxuICAuY2FtZXJhLWZlZWQge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICBvYmplY3QtZml0OiBjb250YWluO1xyXG4gICAgZGlzcGxheTogYmxvY2s7XHJcbiAgfVxyXG4gIFxyXG4gIC5sb2FkaW5nLW92ZXJsYXkge1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgdG9wOiAwO1xyXG4gICAgbGVmdDogMDtcclxuICAgIHJpZ2h0OiAwO1xyXG4gICAgYm90dG9tOiAwO1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNyk7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgfVxyXG4gIFxyXG4gIC5zcGlubmVyIHtcclxuICAgIGJvcmRlcjogNHB4IHNvbGlkIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4zKTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICAgIGJvcmRlci10b3A6IDRweCBzb2xpZCAjZmZmO1xyXG4gICAgd2lkdGg6IDQwcHg7XHJcbiAgICBoZWlnaHQ6IDQwcHg7XHJcbiAgICBhbmltYXRpb246IHNwaW4gMXMgbGluZWFyIGluZmluaXRlO1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMTVweDtcclxuICB9XHJcbiAgXHJcbiAgQGtleWZyYW1lcyBzcGluIHtcclxuICAgIDAlIHsgdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7IH1cclxuICAgIDEwMCUgeyB0cmFuc2Zvcm06IHJvdGF0ZSgzNjBkZWcpOyB9XHJcbiAgfVxyXG4gIFxyXG4gIC8qIFN0YXRzIENvbnRhaW5lciAqL1xyXG4gIC5zdGF0cy1jb250YWluZXIge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGdhcDogMTVweDtcclxuICAgIG1hcmdpbi10b3A6IDE1cHg7XHJcbiAgfVxyXG4gIFxyXG4gIC5zdGF0LWNhcmQge1xyXG4gICAgZmxleDogMTtcclxuICAgIGJhY2tncm91bmQ6ICNmOGY5ZmE7XHJcbiAgICBib3JkZXItcmFkaXVzOiA4cHg7XHJcbiAgICBwYWRkaW5nOiAxNXB4O1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgYm94LXNoYWRvdzogMCAycHggNHB4IHJnYmEoMCwwLDAsMC4xKTtcclxuICB9XHJcbiAgXHJcbiAgLnN0YXQtdmFsdWUge1xyXG4gICAgZm9udC1zaXplOiAyNHB4O1xyXG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICBjb2xvcjogIzJjM2U1MDtcclxuICB9XHJcbiAgXHJcbiAgLnN0YXQtbGFiZWwge1xyXG4gICAgZm9udC1zaXplOiAxNHB4O1xyXG4gICAgY29sb3I6ICM3ZjhjOGQ7XHJcbiAgfVxyXG4gIFxyXG4gIC8qIERldGVjdGlvbnMgUGFuZWwgKi9cclxuICAucGFuZWwtdGl0bGUge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBnYXA6IDEwcHg7XHJcbiAgICBjb2xvcjogIzJjM2U1MDtcclxuICAgIG1hcmdpbi10b3A6IDA7XHJcbiAgICBwYWRkaW5nLWJvdHRvbTogMTBweDtcclxuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZWVlO1xyXG4gIH1cclxuICBcclxuICAuYmFkZ2Uge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzM0OThkYjtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICAgIHdpZHRoOiAyNHB4O1xyXG4gICAgaGVpZ2h0OiAyNHB4O1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIGZvbnQtc2l6ZTogMTJweDtcclxuICB9XHJcbiAgXHJcbiAgLmRldGVjdGlvbnMtbGlzdCB7XHJcbiAgICBtYXgtaGVpZ2h0OiA1MDBweDtcclxuICAgIG92ZXJmbG93LXk6IGF1dG87XHJcbiAgICBwYWRkaW5nLXJpZ2h0OiA1cHg7XHJcbiAgfVxyXG4gIFxyXG4gIC8qIERldGVjdGlvbiBJdGVtICovXHJcbiAgLmRldGVjdGlvbi1pdGVtIHtcclxuICAgIGJhY2tncm91bmQ6IHdoaXRlO1xyXG4gICAgYm9yZGVyLXJhZGl1czogNnB4O1xyXG4gICAgcGFkZGluZzogMTJweDtcclxuICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XHJcbiAgICBib3gtc2hhZG93OiAwIDFweCAzcHggcmdiYSgwLDAsMCwwLjEpO1xyXG4gIH1cclxuICBcclxuICAuZGV0ZWN0aW9uLWNsYXNzIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgZ2FwOiA4cHg7XHJcbiAgICBmb250LXdlaWdodDogNTAwO1xyXG4gICAgbWFyZ2luLWJvdHRvbTogOHB4O1xyXG4gIH1cclxuICBcclxuICAuY2xhc3MtYmFkZ2Uge1xyXG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gICAgd2lkdGg6IDEycHg7XHJcbiAgICBoZWlnaHQ6IDEycHg7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7XHJcbiAgfVxyXG4gIFxyXG4gIC5kZXRlY3Rpb24tY29uZmlkZW5jZSB7XHJcbiAgICBtYXJnaW46IDhweCAwO1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gIH1cclxuICBcclxuICAuY29uZmlkZW5jZS1iYXIge1xyXG4gICAgaGVpZ2h0OiA2cHg7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzQ5OGRiO1xyXG4gICAgYm9yZGVyLXJhZGl1czogM3B4O1xyXG4gIH1cclxuICBcclxuICAuY29uZmlkZW5jZS12YWx1ZSB7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICByaWdodDogMDtcclxuICAgIHRvcDogLTIwcHg7XHJcbiAgICBmb250LXNpemU6IDEycHg7XHJcbiAgICBjb2xvcjogIzdmOGM4ZDtcclxuICB9XHJcbiAgXHJcbiAgLmRldGVjdGlvbi1iYm94IHtcclxuICAgIGZvbnQtc2l6ZTogMTJweDtcclxuICAgIGNvbG9yOiAjN2Y4YzhkO1xyXG4gICAgZm9udC1mYW1pbHk6IG1vbm9zcGFjZTtcclxuICB9XHJcbiAgXHJcbiAgLyogTm8gRGV0ZWN0aW9ucyAqL1xyXG4gIC5uby1kZXRlY3Rpb25zIHtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIHBhZGRpbmc6IDMwcHg7XHJcbiAgICBjb2xvcjogIzdmOGM4ZDtcclxuICB9XHJcbiAgXHJcbiAgLm5vLWRldGVjdGlvbnMgaSB7XHJcbiAgICBmb250LXNpemU6IDQwcHg7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAxNXB4O1xyXG4gICAgb3BhY2l0eTogMC41O1xyXG4gIH1cclxuICBcclxuICAvKiBDYW1lcmEgT2ZmIFBsYWNlaG9sZGVyICovXHJcbiAgLmNhbWVyYS1vZmYtcGxhY2Vob2xkZXIge1xyXG4gICAgZmxleDogMTtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICBtaW4taGVpZ2h0OiA0MDBweDtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNmOGY5ZmE7XHJcbiAgICBib3JkZXItcmFkaXVzOiA4cHg7XHJcbiAgfVxyXG4gIFxyXG4gIC5wbGFjZWhvbGRlci1jb250ZW50IHtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIGNvbG9yOiAjN2Y4YzhkO1xyXG4gIH1cclxuICBcclxuICAucGxhY2Vob2xkZXItY29udGVudCBpIHtcclxuICAgIGZvbnQtc2l6ZTogNTBweDtcclxuICAgIG1hcmdpbi1ib3R0b206IDIwcHg7XHJcbiAgICBvcGFjaXR5OiAwLjM7XHJcbiAgfVxyXG4gIFxyXG4gIC8qIFJlc3BvbnNpdmUgRGVzaWduICovXHJcbiAgQG1lZGlhIChtYXgtd2lkdGg6IDc2OHB4KSB7XHJcbiAgICAuY29udGVudC13cmFwcGVyIHtcclxuICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLmRldGVjdGlvbnMtcGFuZWwge1xyXG4gICAgICBtaW4td2lkdGg6IGF1dG87XHJcbiAgICB9XHJcbiAgfSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵelement","ɵɵtext","ɵɵelementEnd","ɵɵproperty","ctx_r5","imageSrc","ɵɵsanitizeUrl","ɵɵadvance","ɵɵtextInterpolate1","ctx_r7","getHighestConfidence","ɵɵtemplate","CameraControlComponent_div_8_img_2_Template","CameraControlComponent_div_8_div_3_Template","CameraControlComponent_div_8_div_10_Template","ctx_r2","cameraRunning","ɵɵtextInterpolate","detections","length","ɵɵstyleProp","ctx_r11","getClassColor","det_r12","class","confidence","toFixed","ɵɵtextInterpolate4","bbox","CameraControlComponent_div_9_div_6_div_1_Template","ctx_r8","CameraControlComponent_div_9_div_6_Template","CameraControlComponent_div_9_ng_template_7_Template","ɵɵtemplateRefExtractor","ctx_r3","_r9","CameraControlComponent","constructor","cameraService","ngOnInit","checkCameraStatus","ngOnDestroy","stopDetection","getCameraStatus","subscribe","status","running","startDetection","toggleCamera","stopCamera","startCamera","waitForCameraReady","interval","setInterval","ready","clearInterval","detectionSub","startDetectionPolling","next","data","image","console","log","unsubscribe","highest","Math","max","map","d","className","hash","Array","from","reduce","char","charCodeAt","h","abs","ɵɵdirectiveInject","i1","CameraService","selectors","decls","vars","consts","template","CameraControlComponent_Template","rf","ctx","ɵɵlistener","CameraControlComponent_Template_button_click_4_listener","CameraControlComponent_span_5_Template","CameraControlComponent_span_6_Template","CameraControlComponent_div_8_Template","CameraControlComponent_div_9_Template","CameraControlComponent_div_10_Template","ɵɵpureFunction1","_c0"],"sources":["C:\\Users\\moham\\Documents\\GitHub\\pi\\userappAN\\src\\app\\pages\\camera-control\\camera-control.component.ts","C:\\Users\\moham\\Documents\\GitHub\\pi\\userappAN\\src\\app\\pages\\camera-control\\camera-control.component.html"],"sourcesContent":["import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { Subscription } from 'rxjs';\r\nimport { CameraService } from 'src/app/services/CameraService ';\r\n\r\n@Component({\r\n  selector: 'app-camera-control',\r\n  templateUrl: './camera-control.component.html',\r\n  styleUrls: ['./camera-control.component.css']\r\n})\r\nexport class CameraControlComponent implements OnInit, OnDestroy {\r\n  cameraRunning = false;\r\n  imageSrc = '';\r\n  detections: any[] = [];\r\n  private detectionSub!: Subscription;\r\n\r\n  constructor(private cameraService: CameraService) {}\r\n\r\n  ngOnInit() {\r\n    this.checkCameraStatus();\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.stopDetection();\r\n  }\r\n\r\n  checkCameraStatus() {\r\n    this.cameraService.getCameraStatus().subscribe(status => {\r\n      this.cameraRunning = status.running;\r\n      if (this.cameraRunning) {\r\n        this.startDetection();\r\n      }\r\n    });\r\n  }\r\n\r\n  toggleCamera() {\r\n    if (this.cameraRunning) {\r\n      this.cameraService.stopCamera().subscribe(() => {\r\n        this.cameraRunning = false;\r\n        this.stopDetection();\r\n      });\r\n    } else {\r\n      this.cameraService.startCamera().subscribe(() => {\r\n        this.waitForCameraReady();\r\n      });\r\n    }\r\n  }\r\n  \r\n  waitForCameraReady() {\r\n    const interval = setInterval(() => {\r\n      this.cameraService.getCameraStatus().subscribe(status => {\r\n        if (status.running && status.ready) {\r\n          clearInterval(interval);\r\n          this.cameraRunning = true;\r\n          this.startDetection();\r\n        }\r\n      });\r\n    }, 500); \r\n  }\r\n  \r\n\r\n  startDetection() {\r\n    this.detectionSub = this.cameraService.startDetectionPolling().subscribe({\r\n      next: (data: any) => {\r\n        if (data.image) {\r\n          this.imageSrc = 'data:image/jpeg;base64,' + data.image;\r\n        this.detections = data.detections || [];\r\n        console.log('New detections:', this.detections);\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  stopDetection() {\r\n    if (this.detectionSub) {\r\n      this.detectionSub.unsubscribe();\r\n    }\r\n    this.imageSrc = '';\r\n    this.detections = [];\r\n  }\r\n\r\n  getHighestConfidence(): string {\r\n    if (this.detections.length === 0) return '0';\r\n    const highest = Math.max(...this.detections.map(d => d.confidence * 100));\r\n    return highest.toFixed(1);\r\n  }\r\n  \r\n  getClassColor(className: string): string {\r\n    const hash = Array.from(className).reduce(\r\n      (hash, char) => char.charCodeAt(0) + ((hash << 5) - hash),\r\n      0\r\n    );\r\n    \r\n    const h = Math.abs(hash) % 360;\r\n    return `hsl(${h}, 70%, 60%)`;\r\n  }\r\n}","<div class=\"camera-container\">\r\n  <div class=\"header\">\r\n    <h2 class=\"title\">Object Detection System</h2>\r\n    <button (click)=\"toggleCamera()\" class=\"control-button\" [ngClass]=\"{'active': cameraRunning}\">\r\n      <span *ngIf=\"!cameraRunning\">\r\n        <i class=\"fas fa-play\"></i> Start Camera\r\n      </span>\r\n      <span *ngIf=\"cameraRunning\">\r\n        <i class=\"fas fa-stop\"></i> Stop Camera\r\n      </span>\r\n    </button>\r\n  </div>\r\n\r\n  <div class=\"content-wrapper\">\r\n    <div class=\"camera-feed-container\" *ngIf=\"cameraRunning\">\r\n      <div class=\"video-container\">\r\n        <img [src]=\"imageSrc\" alt=\"Camera Feed\" class=\"camera-feed\" *ngIf=\"imageSrc\">\r\n        <div class=\"loading-overlay\" *ngIf=\"!imageSrc && cameraRunning\">\r\n          <div class=\"spinner\"></div>\r\n          <p>Initializing camera...</p>\r\n        </div>\r\n      </div>\r\n      \r\n      <div class=\"stats-container\">\r\n        <div class=\"stat-card\">\r\n          <div class=\"stat-value\">{{ detections.length }}</div>\r\n          <div class=\"stat-label\">Objects Detected</div>\r\n        </div>\r\n        <div class=\"stat-card\" *ngIf=\"detections.length > 0\">\r\n          <div class=\"stat-value\">{{ getHighestConfidence() }}%</div>\r\n          <div class=\"stat-label\">Highest Confidence</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"detections-panel\" *ngIf=\"cameraRunning\">\r\n      <h3 class=\"panel-title\">\r\n        <i class=\"fas fa-list\"></i> Detection Results\r\n        <span class=\"badge\">{{ detections.length }}</span>\r\n      </h3>\r\n      \r\n      <div class=\"detections-list\" *ngIf=\"detections.length > 0; else noDetections\">\r\n        <div class=\"detection-item\" *ngFor=\"let det of detections\">\r\n          <div class=\"detection-class\">\r\n            <span class=\"class-badge\" [style.background]=\"getClassColor(det.class)\"></span>\r\n            {{ det.class }}\r\n          </div>\r\n          <div class=\"detection-confidence\">\r\n            <div class=\"confidence-bar\" [style.width]=\"det.confidence * 100 + '%'\"></div>\r\n            <span class=\"confidence-value\">{{ (det.confidence * 100).toFixed(1) }}%</span>\r\n          </div>\r\n          <div class=\"detection-bbox\">\r\n            [{{ det.bbox[0].toFixed(0) }}, {{ det.bbox[1].toFixed(0) }}]\r\n            [{{ det.bbox[2].toFixed(0) }}, {{ det.bbox[3].toFixed(0) }}]\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <ng-template #noDetections>\r\n        <div class=\"no-detections\">\r\n          <i class=\"fas fa-binoculars\"></i>\r\n          <p>No objects detected</p>\r\n        </div>\r\n      </ng-template>\r\n    </div>\r\n\r\n    <div class=\"camera-off-placeholder\" *ngIf=\"!cameraRunning\">\r\n      <div class=\"placeholder-content\">\r\n        <i class=\"fas fa-video-slash\"></i>\r\n        <h3>Camera is currently offline</h3>\r\n        <p>Click the \"Start Camera\" button to begin object detection</p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}